{"id":"itpd","dependencies":[{"name":"/home/aled/solo-composer-ui/tsconfig.json","includedInParent":true,"mtime":1598401787877},{"name":"/home/aled/solo-composer-ui/package.json","includedInParent":true,"mtime":1598403412572}],"generated":{"js":"\"use strict\";function e(e,t,r){var s=t.brackets.length>0?1:0;return s+=t.subBrackets.length>0?.5:0,t.braces.forEach(function(t){if(!r.bracketSingleStaves&&t.start===t.stop)return s;var a=e.staves[t.start],c=e.staves[t.stop],n=.1*(c.y+c.height-a.y);n>s&&(s=n)}),s}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.measureBracketAndBraces=e;"},"sourceMaps":{"js":{"mappings":[{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":28,"column":1},"generated":{"line":1,"column":0}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":5,"column":6},"generated":{"line":1,"column":13}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":5,"column":16},"generated":{"line":1,"column":22}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":6,"column":4},"generated":{"line":1,"column":24}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":7,"column":4},"generated":{"line":1,"column":26}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":8,"column":4},"generated":{"line":1,"column":28}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":10,"column":8},"generated":{"line":1,"column":31}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":10,"column":8},"generated":{"line":1,"column":35}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":10,"column":14},"generated":{"line":1,"column":37}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":10,"column":20},"generated":{"line":1,"column":39}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":10,"column":29},"generated":{"line":1,"column":48}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":10,"column":38},"generated":{"line":1,"column":55}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":10,"column":42},"generated":{"line":1,"column":57}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":10,"column":46},"generated":{"line":1,"column":59}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":27,"column":11},"generated":{"line":1,"column":61}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":11,"column":4},"generated":{"line":1,"column":68}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":11,"column":17},"generated":{"line":1,"column":71}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":11,"column":23},"generated":{"line":1,"column":73}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":11,"column":35},"generated":{"line":1,"column":85}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":11,"column":44},"generated":{"line":1,"column":92}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":11,"column":48},"generated":{"line":1,"column":94}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":11,"column":54},"generated":{"line":1,"column":97}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":1,"column":99}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":13,"column":10},"generated":{"line":1,"column":101}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":13,"column":17},"generated":{"line":1,"column":108}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":13,"column":25},"generated":{"line":1,"column":116}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":13,"column":26},"generated":{"line":1,"column":125}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":15,"column":12},"generated":{"line":1,"column":128}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":15,"column":13},"generated":{"line":1,"column":132}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":15,"column":20},"generated":{"line":1,"column":134}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":15,"column":43},"generated":{"line":1,"column":155}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":15,"column":49},"generated":{"line":1,"column":157}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":15,"column":59},"generated":{"line":1,"column":165}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":15,"column":65},"generated":{"line":1,"column":167}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":16,"column":19},"generated":{"line":1,"column":172}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":16,"column":19},"generated":{"line":1,"column":179}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":18,"column":14},"generated":{"line":1,"column":181}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":18,"column":14},"generated":{"line":1,"column":185}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":18,"column":22},"generated":{"line":1,"column":187}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":18,"column":30},"generated":{"line":1,"column":189}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":18,"column":37},"generated":{"line":1,"column":196}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":198}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":19,"column":14},"generated":{"line":1,"column":205}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":19,"column":21},"generated":{"line":1,"column":207}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":19,"column":29},"generated":{"line":1,"column":209}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":19,"column":36},"generated":{"line":1,"column":216}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":19,"column":42},"generated":{"line":1,"column":218}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":21,"column":14},"generated":{"line":1,"column":224}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":21,"column":31},"generated":{"line":1,"column":226}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":20,"column":23},"generated":{"line":1,"column":230}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":20,"column":28},"generated":{"line":1,"column":232}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":20,"column":32},"generated":{"line":1,"column":234}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":20,"column":37},"generated":{"line":1,"column":236}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":20,"column":46},"generated":{"line":1,"column":243}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":20,"column":52},"generated":{"line":1,"column":245}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":22,"column":12},"generated":{"line":1,"column":248}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":22,"column":20},"generated":{"line":1,"column":250}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":23,"column":12},"generated":{"line":1,"column":254}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":23,"column":18},"generated":{"line":1,"column":256}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":27,"column":11},"generated":{"line":1,"column":261}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":28,"column":1},"generated":{"line":1,"column":263}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":28,"column":1},"generated":{"line":1,"column":270}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":28,"column":1},"generated":{"line":1,"column":285}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":28,"column":1},"generated":{"line":1,"column":293}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":28,"column":1},"generated":{"line":1,"column":306}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":28,"column":1},"generated":{"line":1,"column":307}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":28,"column":1},"generated":{"line":1,"column":314}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":28,"column":1},"generated":{"line":1,"column":318}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":28,"column":1},"generated":{"line":1,"column":326}},{"source":"parse/measure-brackets-and-braces.ts","name":null,"original":{"line":28,"column":1},"generated":{"line":1,"column":350}}],"sources":{"parse/measure-brackets-and-braces.ts":"import { VerticalLayout } from \"./measure-verical-spacing\";\nimport { VerticalSpans } from \"./measure-vertical-spans\";\nimport { EngravingConfig } from \"../store/defs\";\n\nexport function measureBracketAndBraces(\n    spacing: VerticalLayout,\n    spans: VerticalSpans,\n    config: EngravingConfig\n) {\n    let max = spans.brackets.length > 0 ? 1 : 0;\n    max = max + (spans.subBrackets.length > 0 ? 0.5 : 0);\n\n    spans.braces.forEach((brace) => {\n        // don't count single staves if config requires\n        if (!config.bracketSingleStaves && brace.start === brace.stop) {\n            return max;\n        }\n        const start = spacing.staves[brace.start];\n        const stop = spacing.staves[brace.stop];\n        const height = stop.y + stop.height - start.y;\n        const width = height * 0.1;\n        if (width > max) {\n            max = width;\n        }\n    });\n\n    return max;\n}\n"},"lineCount":null}},"error":null,"hash":"77e6ca59dbcd342c6acfa16451a33348","cacheData":{"env":{}}}