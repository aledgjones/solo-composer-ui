{"id":"CQ9l","dependencies":[{"name":"/home/aled/solo-composer-ui/tsconfig.json","includedInParent":true,"mtime":1598401787877},{"name":"/home/aled/solo-composer-ui/package.json","includedInParent":true,"mtime":1598403412572},{"name":"shortid","loc":{"line":1,"column":20},"parent":"/home/aled/solo-composer-ui/src/store/score-track/utils.ts","resolved":"/home/aled/solo-composer-ui/node_modules/shortid/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.create_track=i,exports.insert_entry=r,exports.move_entry=n,exports.remove_entry=c;var e=t(require(\"shortid\"));function t(e){return e&&e.__esModule?e:{default:e}}function i(t){return void 0===t&&(t=(0,e.default)()),{key:t,entries:{by_key:{},by_tick:{}}}}function r(e,t,i){if(i){var r=e.entries.by_tick[t.tick].map(function(t){return e.entries.by_key[t]}).filter(function(e){return e.type===t.type})[0];r&&c(e,r.key)}e.entries.by_key[t.key]=t,void 0===e.entries.by_tick[t.tick]&&(e.entries.by_tick[t.tick]=[]),e.entries.by_tick[t.tick].push(t.key)}function n(e,t,i){var r=e.entries.by_key[t];i!==r.tick&&(e.entries.by_tick[r.tick]=e.entries.by_tick[r.tick].filter(function(e){return e!==t}),0===e.entries.by_tick[r.tick].length&&delete e.entries.by_tick[r.tick],void 0===e.entries.by_tick[i]&&(e.entries.by_tick[i]=[]),e.entries.by_tick[i].push(t),r.tick=i)}function c(e,t){var i=e.entries.by_key[t];e.entries.by_tick[i.tick]=e.entries.by_tick[i.tick].filter(function(e){return e!==t}),0===e.entries.by_tick[i.tick].length&&delete e.entries.by_tick[i.tick],delete e.entries.by_key[t]}"},"sourceMaps":{"js":{"mappings":[{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":0}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":13}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":20}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":35}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":43}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":56}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":57}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":64}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":68}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":76}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":89}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":91}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":99}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":112}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":114}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":122}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":133}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":135}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":143}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":156}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":158}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":162}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":164}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":166}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":174}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":186}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":195}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":197}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":200}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":207}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":210}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":212}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":223}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":225}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":226}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":70,"column":1},"generated":{"line":1,"column":234}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":5,"column":6},"generated":{"line":1,"column":237}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":5,"column":16},"generated":{"line":1,"column":246}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":5,"column":29},"generated":{"line":1,"column":248}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":6,"column":11},"generated":{"line":1,"column":251}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":5,"column":29},"generated":{"line":1,"column":263}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":5,"column":29},"generated":{"line":1,"column":267}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":5,"column":29},"generated":{"line":1,"column":271}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":5,"column":43},"generated":{"line":1,"column":274}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":5,"column":29},"generated":{"line":1,"column":276}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":5,"column":29},"generated":{"line":1,"column":278}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":6,"column":11},"generated":{"line":1,"column":290}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":7,"column":8},"generated":{"line":1,"column":291}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":7,"column":11},"generated":{"line":1,"column":295}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":8,"column":8},"generated":{"line":1,"column":297}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":8,"column":17},"generated":{"line":1,"column":305}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":8,"column":19},"generated":{"line":1,"column":306}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":8,"column":27},"generated":{"line":1,"column":313}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":8,"column":31},"generated":{"line":1,"column":316}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":8,"column":40},"generated":{"line":1,"column":324}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":13,"column":6},"generated":{"line":1,"column":329}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":13,"column":16},"generated":{"line":1,"column":338}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":14,"column":4},"generated":{"line":1,"column":340}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":342}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":1,"column":344}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":19,"column":8},"generated":{"line":1,"column":347}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":19,"column":8},"generated":{"line":1,"column":350}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":19,"column":26},"generated":{"line":1,"column":352}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":20,"column":14},"generated":{"line":1,"column":353}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":20,"column":14},"generated":{"line":1,"column":357}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":20,"column":20},"generated":{"line":1,"column":359}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":20,"column":26},"generated":{"line":1,"column":361}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":20,"column":34},"generated":{"line":1,"column":369}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":20,"column":42},"generated":{"line":1,"column":377}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":379}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":21,"column":13},"generated":{"line":1,"column":385}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":21,"column":17},"generated":{"line":1,"column":389}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":21,"column":18},"generated":{"line":1,"column":398}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":21,"column":26},"generated":{"line":1,"column":401}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":21,"column":26},"generated":{"line":1,"column":408}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":21,"column":32},"generated":{"line":1,"column":410}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":21,"column":40},"generated":{"line":1,"column":418}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":21,"column":47},"generated":{"line":1,"column":425}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":22,"column":13},"generated":{"line":1,"column":430}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":22,"column":20},"generated":{"line":1,"column":437}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":22,"column":21},"generated":{"line":1,"column":446}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":23,"column":23},"generated":{"line":1,"column":449}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":23,"column":23},"generated":{"line":1,"column":456}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":23,"column":25},"generated":{"line":1,"column":458}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":23,"column":34},"generated":{"line":1,"column":465}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":23,"column":40},"generated":{"line":1,"column":467}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":24,"column":15},"generated":{"line":1,"column":474}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":26,"column":12},"generated":{"line":1,"column":477}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":27,"column":12},"generated":{"line":1,"column":480}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":27,"column":25},"generated":{"line":1,"column":482}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":27,"column":32},"generated":{"line":1,"column":484}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":27,"column":36},"generated":{"line":1,"column":486}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":1,"column":491}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":493}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":30,"column":18},"generated":{"line":1,"column":501}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":30,"column":25},"generated":{"line":1,"column":508}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":30,"column":31},"generated":{"line":1,"column":510}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":30,"column":38},"generated":{"line":1,"column":515}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":31,"column":46},"generated":{"line":1,"column":522}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":1,"column":526}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":31,"column":14},"generated":{"line":1,"column":528}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":31,"column":22},"generated":{"line":1,"column":536}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":31,"column":30},"generated":{"line":1,"column":544}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":31,"column":36},"generated":{"line":1,"column":546}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":554}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":32,"column":14},"generated":{"line":1,"column":556}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":32,"column":22},"generated":{"line":1,"column":564}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":32,"column":30},"generated":{"line":1,"column":572}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":32,"column":36},"generated":{"line":1,"column":574}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":32,"column":44},"generated":{"line":1,"column":580}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":1,"column":584}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":1,"column":586}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":34,"column":18},"generated":{"line":1,"column":594}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":34,"column":26},"generated":{"line":1,"column":602}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":34,"column":32},"generated":{"line":1,"column":604}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":34,"column":38},"generated":{"line":1,"column":610}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":34,"column":43},"generated":{"line":1,"column":615}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":34,"column":49},"generated":{"line":1,"column":617}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":38,"column":6},"generated":{"line":1,"column":622}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":38,"column":16},"generated":{"line":1,"column":631}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":38,"column":27},"generated":{"line":1,"column":633}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":38,"column":41},"generated":{"line":1,"column":635}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":38,"column":60},"generated":{"line":1,"column":637}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":1,"column":640}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":1,"column":644}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":39,"column":18},"generated":{"line":1,"column":646}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":39,"column":24},"generated":{"line":1,"column":648}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":39,"column":32},"generated":{"line":1,"column":656}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":39,"column":39},"generated":{"line":1,"column":663}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":666}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":40,"column":17},"generated":{"line":1,"column":670}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":40,"column":23},"generated":{"line":1,"column":672}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":1,"column":679}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":42,"column":14},"generated":{"line":1,"column":681}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":42,"column":22},"generated":{"line":1,"column":689}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":42,"column":30},"generated":{"line":1,"column":697}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":42,"column":36},"generated":{"line":1,"column":699}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":42,"column":44},"generated":{"line":1,"column":705}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":42,"column":50},"generated":{"line":1,"column":707}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":715}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":43,"column":12},"generated":{"line":1,"column":723}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":43,"column":18},"generated":{"line":1,"column":725}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":44,"column":10},"generated":{"line":1,"column":731}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":44,"column":17},"generated":{"line":1,"column":738}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":44,"column":18},"generated":{"line":1,"column":747}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":44,"column":24},"generated":{"line":1,"column":750}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":44,"column":24},"generated":{"line":1,"column":757}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":44,"column":30},"generated":{"line":1,"column":761}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":45,"column":57},"generated":{"line":1,"column":765}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":45,"column":12},"generated":{"line":1,"column":769}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":45,"column":18},"generated":{"line":1,"column":771}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":45,"column":26},"generated":{"line":1,"column":779}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":45,"column":34},"generated":{"line":1,"column":787}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":45,"column":40},"generated":{"line":1,"column":789}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":45,"column":46},"generated":{"line":1,"column":795}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":46,"column":19},"generated":{"line":1,"column":810}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":46,"column":25},"generated":{"line":1,"column":812}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":46,"column":33},"generated":{"line":1,"column":820}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":46,"column":41},"generated":{"line":1,"column":828}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":46,"column":47},"generated":{"line":1,"column":830}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":50,"column":44},"generated":{"line":1,"column":841}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":845}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":50,"column":18},"generated":{"line":1,"column":847}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":50,"column":26},"generated":{"line":1,"column":855}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":50,"column":34},"generated":{"line":1,"column":863}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":51,"column":12},"generated":{"line":1,"column":868}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":51,"column":18},"generated":{"line":1,"column":870}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":51,"column":26},"generated":{"line":1,"column":878}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":51,"column":34},"generated":{"line":1,"column":886}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":51,"column":42},"generated":{"line":1,"column":889}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":1,"column":893}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":53,"column":14},"generated":{"line":1,"column":895}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":53,"column":22},"generated":{"line":1,"column":903}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":53,"column":30},"generated":{"line":1,"column":911}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":53,"column":36},"generated":{"line":1,"column":914}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":53,"column":41},"generated":{"line":1,"column":919}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":56,"column":8},"generated":{"line":1,"column":922}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":56,"column":14},"generated":{"line":1,"column":924}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":56,"column":21},"generated":{"line":1,"column":929}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":61,"column":6},"generated":{"line":1,"column":932}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":61,"column":16},"generated":{"line":1,"column":941}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":61,"column":29},"generated":{"line":1,"column":943}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":61,"column":43},"generated":{"line":1,"column":945}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":62,"column":10},"generated":{"line":1,"column":948}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":62,"column":10},"generated":{"line":1,"column":952}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":62,"column":18},"generated":{"line":1,"column":954}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":62,"column":24},"generated":{"line":1,"column":956}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":62,"column":32},"generated":{"line":1,"column":964}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":62,"column":39},"generated":{"line":1,"column":971}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":63,"column":4},"generated":{"line":1,"column":974}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":63,"column":10},"generated":{"line":1,"column":976}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":63,"column":18},"generated":{"line":1,"column":984}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":63,"column":26},"generated":{"line":1,"column":992}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":63,"column":32},"generated":{"line":1,"column":994}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":63,"column":40},"generated":{"line":1,"column":1000}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":63,"column":46},"generated":{"line":1,"column":1002}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":63,"column":54},"generated":{"line":1,"column":1010}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":1018}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":64,"column":14},"generated":{"line":1,"column":1020}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":65,"column":6},"generated":{"line":1,"column":1026}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":65,"column":13},"generated":{"line":1,"column":1033}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":65,"column":14},"generated":{"line":1,"column":1042}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":65,"column":20},"generated":{"line":1,"column":1045}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":65,"column":20},"generated":{"line":1,"column":1052}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":65,"column":26},"generated":{"line":1,"column":1056}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":66,"column":53},"generated":{"line":1,"column":1060}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":66,"column":8},"generated":{"line":1,"column":1064}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":66,"column":14},"generated":{"line":1,"column":1066}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":66,"column":22},"generated":{"line":1,"column":1074}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":66,"column":30},"generated":{"line":1,"column":1082}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":66,"column":36},"generated":{"line":1,"column":1084}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":66,"column":42},"generated":{"line":1,"column":1090}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":67,"column":15},"generated":{"line":1,"column":1105}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":67,"column":21},"generated":{"line":1,"column":1107}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":67,"column":29},"generated":{"line":1,"column":1115}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":67,"column":37},"generated":{"line":1,"column":1123}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":67,"column":43},"generated":{"line":1,"column":1125}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":69,"column":11},"generated":{"line":1,"column":1138}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":69,"column":17},"generated":{"line":1,"column":1140}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":69,"column":25},"generated":{"line":1,"column":1148}},{"source":"store/score-track/utils.ts","name":null,"original":{"line":69,"column":32},"generated":{"line":1,"column":1155}}],"sources":{"store/score-track/utils.ts":"import { Track } from \"./defs\";\nimport { Entry } from \"../entries\";\nimport shortid from \"shortid\";\n\nexport function create_track(key: string = shortid()): Track {\n    return {\n        key,\n        entries: { by_key: {}, by_tick: {} },\n    };\n}\n\n/** Insert an entry into the track */\nexport function insert_entry(\n    track: Track,\n    entry: Entry,\n    only_one_allowed?: boolean\n) {\n    // if only one of this type of entry is allowed, we delete any others of the same type\n    if (only_one_allowed) {\n        const old = track.entries.by_tick[entry.tick]\n            .map((key) => track.entries.by_key[key])\n            .filter((e) => {\n                return e.type === entry.type;\n            })[0];\n\n        if (old) {\n            remove_entry(track, old.key);\n        }\n    }\n    track.entries.by_key[entry.key] = entry;\n    if (track.entries.by_tick[entry.tick] === undefined) {\n        track.entries.by_tick[entry.tick] = [];\n    }\n    track.entries.by_tick[entry.tick].push(entry.key);\n}\n\n/** Move an entry to a new tick of the track */\nexport function move_entry(track: Track, entry_key: string, tick: number) {\n    const entry = track.entries.by_key[entry_key];\n    if (tick !== entry.tick) {\n        // remove from previous tick entry and cleanup\n        track.entries.by_tick[entry.tick] = track.entries.by_tick[\n            entry.tick\n        ].filter((k) => k !== entry_key);\n        if (track.entries.by_tick[entry.tick].length === 0) {\n            delete track.entries.by_tick[entry.tick];\n        }\n\n        // create a new tick entry if not present\n        if (track.entries.by_tick[tick] === undefined) {\n            track.entries.by_tick[tick] = [];\n        }\n        track.entries.by_tick[tick].push(entry_key);\n\n        // update the actual entry\n        entry.tick = tick;\n    }\n}\n\n/** Remove the entry from the track */\nexport function remove_entry(track: Track, entry_key: string) {\n    const entry = track.entries.by_key[entry_key];\n    track.entries.by_tick[entry.tick] = track.entries.by_tick[\n        entry.tick\n    ].filter((k) => k !== entry_key);\n    if (track.entries.by_tick[entry.tick].length === 0) {\n        delete track.entries.by_tick[entry.tick];\n    }\n    delete track.entries.by_key[entry_key];\n}\n"},"lineCount":null}},"error":null,"hash":"16b6de3caa6ff65708bbfac1914de45a","cacheData":{"env":{}}}