{"id":"FoeB","dependencies":[{"name":"/home/aled/solo-composer-ui/tsconfig.json","includedInParent":true,"mtime":1598401787877},{"name":"/home/aled/solo-composer-ui/package.json","includedInParent":true,"mtime":1598403412572},{"name":"react","loc":{"line":1,"column":18},"parent":"/home/aled/solo-composer-ui/src/play/keyboard/index.tsx","resolved":"/home/aled/solo-composer-ui/node_modules/react/index.js"},{"name":"../../../ui","loc":{"line":2,"column":31},"parent":"/home/aled/solo-composer-ui/src/play/keyboard/index.tsx","resolved":"/home/aled/solo-composer-ui/ui/index.ts"},{"name":"./slots","loc":{"line":3,"column":22},"parent":"/home/aled/solo-composer-ui/src/play/keyboard/index.tsx","resolved":"/home/aled/solo-composer-ui/src/play/keyboard/slots.tsx"},{"name":"../const","loc":{"line":4,"column":28},"parent":"/home/aled/solo-composer-ui/src/play/keyboard/index.tsx","resolved":"/home/aled/solo-composer-ui/src/play/const.ts"},{"name":"../../store/use-store","loc":{"line":5,"column":25},"parent":"/home/aled/solo-composer-ui/src/play/keyboard/index.tsx","resolved":"/home/aled/solo-composer-ui/src/store/use-store.ts"},{"name":"../../store/actions","loc":{"line":6,"column":24},"parent":"/home/aled/solo-composer-ui/src/play/keyboard/index.tsx","resolved":"/home/aled/solo-composer-ui/src/store/actions.ts"},{"name":"./styles.css","loc":{"line":7,"column":7},"parent":"/home/aled/solo-composer-ui/src/play/keyboard/index.tsx","resolved":"/home/aled/solo-composer-ui/src/play/keyboard/styles.css"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Keyboard=void 0;var e=u(require(\"react\")),r=require(\"../../../ui\"),t=require(\"./slots\"),o=require(\"../const\"),n=require(\"../../store/use-store\"),s=require(\"../../store/actions\");function u(e){return e&&e.__esModule?e:{default:e}}require(\"./styles.css\");var a=function(u){var a=u.instrumentKey,i=u.height,c=(0,n.useStore)(function(e){var r=e.ui.play.keyboard[a];return r?r.base:76},[a]),d=(0,r.useDragHandler)({onDown:function(e){return{y:e.screenY,base:c}},onMove:function(e,r){var t=Math.round((r.y-e.screenY)/o.SLOT_HEIGHT),n=r.base-t;n<=112&&n>=28&&s.actions.ui.play.keyboard(a,r.base-t)},onEnd:function(){}},[c,a]);return e.default.createElement(\"div\",{className:\"keyboard\",onPointerDown:d,style:{height:i*o.SLOT_HEIGHT}},e.default.createElement(t.Slots,{base:c,count:i,isKeyboard:!0}))};exports.Keyboard=a;"},"sourceMaps":{"js":{"mappings":[{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":13}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":20}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":35}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":43}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":56}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":57}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":64}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":68}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":76}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":90}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":96}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":98}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":108}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":118}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":120}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":128}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":143}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":145}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":153}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":164}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":166}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":174}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":186}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":188}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":196}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":221}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":223}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":231}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":254}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":263}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":265}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":268}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":275}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":278}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":280}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":291}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":293}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":294}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":302}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":305}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":313}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":329}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":13},"generated":{"line":1,"column":333}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":35},"generated":{"line":1,"column":335}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":36},"generated":{"line":1,"column":344}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":38},"generated":{"line":1,"column":347}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":38},"generated":{"line":1,"column":351}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":51},"generated":{"line":1,"column":353}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":51},"generated":{"line":1,"column":355}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":53},"generated":{"line":1,"column":369}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":59},"generated":{"line":1,"column":371}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":59},"generated":{"line":1,"column":373}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":16,"column":10},"generated":{"line":1,"column":380}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":16,"column":17},"generated":{"line":1,"column":383}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":17,"column":8},"generated":{"line":1,"column":385}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":17,"column":8},"generated":{"line":1,"column":387}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":17,"column":8},"generated":{"line":1,"column":397}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":17,"column":9},"generated":{"line":1,"column":406}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":18},"generated":{"line":1,"column":409}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":18},"generated":{"line":1,"column":413}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":29},"generated":{"line":1,"column":415}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":31},"generated":{"line":1,"column":417}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":34},"generated":{"line":1,"column":420}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":39},"generated":{"line":1,"column":425}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":48},"generated":{"line":1,"column":434}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":19,"column":19},"generated":{"line":1,"column":437}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":19,"column":19},"generated":{"line":1,"column":444}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":19,"column":30},"generated":{"line":1,"column":446}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":19,"column":39},"generated":{"line":1,"column":448}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":19,"column":46},"generated":{"line":1,"column":453}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":21,"column":8},"generated":{"line":1,"column":457}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":21,"column":9},"generated":{"line":1,"column":458}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":24,"column":10},"generated":{"line":1,"column":462}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":24,"column":19},"generated":{"line":1,"column":465}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":467}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":469}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":485}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":26,"column":12},"generated":{"line":1,"column":486}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":26,"column":20},"generated":{"line":1,"column":493}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":26,"column":21},"generated":{"line":1,"column":502}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":27,"column":23},"generated":{"line":1,"column":505}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":27,"column":23},"generated":{"line":1,"column":511}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":28,"column":20},"generated":{"line":1,"column":512}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":28,"column":23},"generated":{"line":1,"column":514}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":28,"column":25},"generated":{"line":1,"column":516}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":29,"column":20},"generated":{"line":1,"column":524}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":29,"column":24},"generated":{"line":1,"column":529}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":533}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":32,"column":20},"generated":{"line":1,"column":540}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":32,"column":21},"generated":{"line":1,"column":549}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":32,"column":24},"generated":{"line":1,"column":551}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":22},"generated":{"line":1,"column":554}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":22},"generated":{"line":1,"column":558}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":31},"generated":{"line":1,"column":560}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":36},"generated":{"line":1,"column":565}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":43},"generated":{"line":1,"column":572}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":48},"generated":{"line":1,"column":574}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":52},"generated":{"line":1,"column":576}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":54},"generated":{"line":1,"column":578}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":65},"generated":{"line":1,"column":587}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":31},"generated":{"line":1,"column":589}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":34,"column":22},"generated":{"line":1,"column":602}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":34,"column":29},"generated":{"line":1,"column":604}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":34,"column":34},"generated":{"line":1,"column":606}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":34,"column":41},"generated":{"line":1,"column":611}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":36,"column":20},"generated":{"line":1,"column":613}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":36,"column":28},"generated":{"line":1,"column":616}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":36,"column":35},"generated":{"line":1,"column":621}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":36,"column":43},"generated":{"line":1,"column":624}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":28},"generated":{"line":1,"column":628}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":28},"generated":{"line":1,"column":630}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":28},"generated":{"line":1,"column":638}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":31},"generated":{"line":1,"column":641}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":36},"generated":{"line":1,"column":646}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":45},"generated":{"line":1,"column":655}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":60},"generated":{"line":1,"column":657}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":65},"generated":{"line":1,"column":659}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":72},"generated":{"line":1,"column":664}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":40,"column":12},"generated":{"line":1,"column":668}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":40,"column":19},"generated":{"line":1,"column":674}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":42,"column":8},"generated":{"line":1,"column":688}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":42,"column":9},"generated":{"line":1,"column":689}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":42,"column":15},"generated":{"line":1,"column":691}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":46,"column":8},"generated":{"line":1,"column":695}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":46,"column":8},"generated":{"line":1,"column":702}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":46,"column":8},"generated":{"line":1,"column":704}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":46,"column":8},"generated":{"line":1,"column":712}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":46,"column":8},"generated":{"line":1,"column":726}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":46,"column":8},"generated":{"line":1,"column":732}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":47,"column":12},"generated":{"line":1,"column":733}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":47,"column":22},"generated":{"line":1,"column":743}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":48,"column":12},"generated":{"line":1,"column":754}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":48,"column":27},"generated":{"line":1,"column":768}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":49,"column":12},"generated":{"line":1,"column":770}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":49,"column":19},"generated":{"line":1,"column":776}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":49,"column":21},"generated":{"line":1,"column":777}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":49,"column":29},"generated":{"line":1,"column":784}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":49,"column":38},"generated":{"line":1,"column":786}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":49,"column":38},"generated":{"line":1,"column":788}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":12},"generated":{"line":1,"column":802}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":12},"generated":{"line":1,"column":804}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":12},"generated":{"line":1,"column":812}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":13},"generated":{"line":1,"column":826}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":12},"generated":{"line":1,"column":828}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":18},"generated":{"line":1,"column":834}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":19},"generated":{"line":1,"column":835}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":25},"generated":{"line":1,"column":840}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":31},"generated":{"line":1,"column":842}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":38},"generated":{"line":1,"column":848}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":46},"generated":{"line":1,"column":850}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":58},"generated":{"line":1,"column":862}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":868}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":876}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":1,"column":885}}],"sources":{"play/keyboard/index.tsx":"import React, { FC } from \"react\";\nimport { useDragHandler } from \"../../../ui\";\nimport { Slots } from \"./slots\";\nimport { SLOT_HEIGHT } from \"../const\";\nimport { useStore } from \"../../store/use-store\";\nimport { actions } from \"../../store/actions\";\n\nimport \"./styles.css\";\n\ninterface Props {\n    instrumentKey: string;\n    height: number;\n}\n\nexport const Keyboard: FC<Props> = ({ instrumentKey, height }) => {\n    const base = useStore(\n        (s) => {\n            const keyboard = s.ui.play.keyboard[instrumentKey];\n            return keyboard ? keyboard.base : 76;\n        },\n        [instrumentKey]\n    );\n\n    const onDrag = useDragHandler<{ y: number; base: number }>(\n        {\n            onDown: (e) => {\n                return {\n                    y: e.screenY,\n                    base,\n                };\n            },\n            onMove: (e, init) => {\n                const change = Math.round((init.y - e.screenY) / SLOT_HEIGHT);\n                const next = init.base - change;\n                // E8 <= next >= E1\n                if (next <= 112 && next >= 28) {\n                    actions.ui.play.keyboard(instrumentKey, init.base - change);\n                }\n            },\n            onEnd: () => {},\n        },\n        [base, instrumentKey]\n    );\n\n    return (\n        <div\n            className=\"keyboard\"\n            onPointerDown={onDrag}\n            style={{ height: height * SLOT_HEIGHT }}\n        >\n            <Slots base={base} count={height} isKeyboard={true} />\n        </div>\n    );\n};\n"},"lineCount":null}},"error":null,"hash":"af8acd375ed33eafc847d2f789c1ff55","cacheData":{"env":{}}}