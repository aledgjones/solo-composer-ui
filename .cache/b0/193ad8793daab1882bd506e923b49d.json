{"id":"store/entries/tone/actions.ts","dependencies":[{"name":"/home/aled/solo-composer-ui/tsconfig.json","includedInParent":true,"mtime":1598401787877},{"name":"/home/aled/solo-composer-ui/package.json","includedInParent":true,"mtime":1598459868758},{"name":"../../score-track/utils","loc":{"line":1,"column":56},"parent":"/home/aled/solo-composer-ui/src/store/entries/tone/actions.ts","resolved":"/home/aled/solo-composer-ui/src/store/score-track/utils.ts"},{"name":"../../use-store","loc":{"line":2,"column":22},"parent":"/home/aled/solo-composer-ui/src/store/entries/tone/actions.ts","resolved":"/home/aled/solo-composer-ui/src/store/use-store.ts"},{"name":"./utils","loc":{"line":3,"column":28},"parent":"/home/aled/solo-composer-ui/src/store/entries/tone/actions.ts","resolved":"/home/aled/solo-composer-ui/src/store/entries/tone/utils.ts"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toneActions = void 0;\n\nvar _utils = require(\"../../score-track/utils\");\n\nvar _useStore = require(\"../../use-store\");\n\nvar _utils2 = require(\"./utils\");\n\nvar toneActions = {\n  /**\n   * Create a new tone.\n   *\n   * With MIDI pitches, tick counts and velocity 0-127\n   */\n  create: function create(flow_key, stave_key, track_key, tick, duration, pitch, velocity, articulation) {\n    var tone = (0, _utils2.create_tone)(tick, duration, pitch, velocity, articulation);\n\n    _useStore.store.update(function (draft, state) {\n      (0, _utils.insert_entry)(draft.score.flows.by_key[flow_key].staves[stave_key].tracks.by_key[track_key], tone);\n    });\n\n    return tone.key;\n  },\n  update: function update(flow_key, stave_key, track_key, entry_key, tick, duration, pitch, articulation) {\n    _useStore.store.update(function (draft) {\n      (0, _utils.move_entry)(draft.score.flows.by_key[flow_key].staves[stave_key].tracks.by_key[track_key], entry_key, tick);\n      var tone = draft.score.flows.by_key[flow_key].staves[stave_key].tracks.by_key[track_key].entries.by_key[entry_key];\n      tone.duration = duration;\n      tone.pitch = pitch;\n      tone.articulation = articulation;\n    });\n  },\n  slice: function slice(flow_key, stave_key, track_key, entry_key, slice_at) {\n    _useStore.store.update(function (draft, state) {\n      var track = draft.score.flows.by_key[flow_key].staves[stave_key].tracks.by_key[track_key];\n      var old_tone = track.entries.by_key[entry_key];\n      var new_tone = (0, _utils2.create_tone)(slice_at, old_tone.duration - (slice_at - old_tone.tick), old_tone.pitch, old_tone.velocity, old_tone.articulation);\n      (0, _utils.insert_entry)(track, new_tone);\n      old_tone.duration = slice_at - old_tone.tick;\n    });\n  },\n  remove: function remove(flow_key, stave_key, track_key, entry_key) {\n    _useStore.store.update(function (draft) {\n      (0, _utils.remove_entry)(draft.score.flows.by_key[flow_key].staves[stave_key].tracks.by_key[track_key], entry_key);\n    });\n  }\n};\nexports.toneActions = toneActions;"},"sourceMaps":{"js":{"mappings":[{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":8,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":10,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":12,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":11,"column":7},"generated":{"line":14,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":14,"column":4}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":11,"column":24},"generated":{"line":14,"column":15}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":11,"column":27},"generated":{"line":14,"column":18}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":12,"column":4},"generated":{"line":15,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":17,"column":4},"generated":{"line":20,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":17,"column":4},"generated":{"line":20,"column":2}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":17,"column":10},"generated":{"line":20,"column":8}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":17,"column":12},"generated":{"line":20,"column":10}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":18,"column":8},"generated":{"line":20,"column":26}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":17,"column":12},"generated":{"line":20,"column":34}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":19,"column":8},"generated":{"line":20,"column":36}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":17,"column":12},"generated":{"line":20,"column":45}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":20,"column":8},"generated":{"line":20,"column":47}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":17,"column":12},"generated":{"line":20,"column":56}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":21,"column":8},"generated":{"line":20,"column":58}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":17,"column":12},"generated":{"line":20,"column":62}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":22,"column":8},"generated":{"line":20,"column":64}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":17,"column":12},"generated":{"line":20,"column":72}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":23,"column":8},"generated":{"line":20,"column":74}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":17,"column":12},"generated":{"line":20,"column":79}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":20,"column":81}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":17,"column":12},"generated":{"line":20,"column":89}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":25,"column":8},"generated":{"line":20,"column":91}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":17,"column":12},"generated":{"line":20,"column":103}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":25,"column":34},"generated":{"line":20,"column":105}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":21,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":27,"column":14},"generated":{"line":21,"column":8}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":27,"column":18},"generated":{"line":21,"column":12}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":27,"column":21},"generated":{"line":21,"column":15}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":27,"column":33},"generated":{"line":21,"column":40}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":27,"column":21},"generated":{"line":21,"column":44}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":27,"column":39},"generated":{"line":21,"column":46}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":27,"column":21},"generated":{"line":21,"column":54}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":27,"column":49},"generated":{"line":21,"column":56}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":27,"column":21},"generated":{"line":21,"column":61}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":27,"column":56},"generated":{"line":21,"column":63}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":27,"column":21},"generated":{"line":21,"column":71}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":27,"column":66},"generated":{"line":21,"column":73}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":27,"column":21},"generated":{"line":21,"column":85}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":21,"column":86}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":23,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":29,"column":14},"generated":{"line":23,"column":20}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":23,"column":26}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":29,"column":21},"generated":{"line":23,"column":27}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":29,"column":22},"generated":{"line":23,"column":37}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":29,"column":21},"generated":{"line":23,"column":42}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":29,"column":29},"generated":{"line":23,"column":44}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":29,"column":21},"generated":{"line":23,"column":49}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":29,"column":34},"generated":{"line":23,"column":51}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":24,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":31,"column":16},"generated":{"line":24,"column":31}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":31,"column":21},"generated":{"line":24,"column":36}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":31,"column":22},"generated":{"line":24,"column":37}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":31,"column":16},"generated":{"line":24,"column":42}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":31,"column":28},"generated":{"line":24,"column":43}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":31,"column":16},"generated":{"line":24,"column":48}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":31,"column":34},"generated":{"line":24,"column":49}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":31,"column":16},"generated":{"line":24,"column":55}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":31,"column":41},"generated":{"line":24,"column":56}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":31,"column":16},"generated":{"line":24,"column":64}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":31,"column":51},"generated":{"line":24,"column":66}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":31,"column":16},"generated":{"line":24,"column":72}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":31,"column":58},"generated":{"line":24,"column":73}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":31,"column":16},"generated":{"line":24,"column":82}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":31,"column":69},"generated":{"line":24,"column":84}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":31,"column":16},"generated":{"line":24,"column":90}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":32,"column":21},"generated":{"line":24,"column":91}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":31,"column":16},"generated":{"line":24,"column":97}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":32,"column":28},"generated":{"line":24,"column":98}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":31,"column":16},"generated":{"line":24,"column":107}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":24,"column":108}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":33,"column":16},"generated":{"line":24,"column":110}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":24,"column":114}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":25,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":25,"column":5}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":27,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":37,"column":15},"generated":{"line":27,"column":11}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":37,"column":19},"generated":{"line":27,"column":15}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":37,"column":20},"generated":{"line":27,"column":16}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":27,"column":19}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":38,"column":5},"generated":{"line":28,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":11,"column":27},"generated":{"line":28,"column":3}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":29,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":29,"column":2}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":29,"column":8}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":39,"column":12},"generated":{"line":29,"column":10}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":29,"column":26}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":39,"column":12},"generated":{"line":29,"column":34}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":29,"column":36}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":39,"column":12},"generated":{"line":29,"column":45}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":29,"column":47}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":39,"column":12},"generated":{"line":29,"column":56}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":43,"column":8},"generated":{"line":29,"column":58}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":39,"column":12},"generated":{"line":29,"column":67}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":44,"column":8},"generated":{"line":29,"column":69}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":39,"column":12},"generated":{"line":29,"column":73}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":45,"column":8},"generated":{"line":29,"column":75}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":39,"column":12},"generated":{"line":29,"column":83}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":46,"column":8},"generated":{"line":29,"column":85}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":39,"column":12},"generated":{"line":29,"column":90}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":47,"column":8},"generated":{"line":29,"column":92}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":39,"column":12},"generated":{"line":29,"column":104}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":47,"column":34},"generated":{"line":29,"column":106}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":30,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":49,"column":14},"generated":{"line":30,"column":20}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":30,"column":26}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":49,"column":21},"generated":{"line":30,"column":27}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":49,"column":22},"generated":{"line":30,"column":37}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":49,"column":21},"generated":{"line":30,"column":42}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":49,"column":27},"generated":{"line":30,"column":44}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":31,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":51,"column":16},"generated":{"line":31,"column":29}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":51,"column":21},"generated":{"line":31,"column":34}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":51,"column":22},"generated":{"line":31,"column":35}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":51,"column":16},"generated":{"line":31,"column":40}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":51,"column":28},"generated":{"line":31,"column":41}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":51,"column":16},"generated":{"line":31,"column":46}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":51,"column":34},"generated":{"line":31,"column":47}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":51,"column":16},"generated":{"line":31,"column":53}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":51,"column":41},"generated":{"line":31,"column":54}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":51,"column":16},"generated":{"line":31,"column":62}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":51,"column":51},"generated":{"line":31,"column":64}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":51,"column":16},"generated":{"line":31,"column":70}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":51,"column":58},"generated":{"line":31,"column":71}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":51,"column":16},"generated":{"line":31,"column":80}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":51,"column":69},"generated":{"line":31,"column":82}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":51,"column":16},"generated":{"line":31,"column":88}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":52,"column":21},"generated":{"line":31,"column":89}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":51,"column":16},"generated":{"line":31,"column":95}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":52,"column":28},"generated":{"line":31,"column":96}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":51,"column":16},"generated":{"line":31,"column":105}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":31,"column":106}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":53,"column":16},"generated":{"line":31,"column":108}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":31,"column":117}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":54,"column":16},"generated":{"line":31,"column":119}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":31,"column":123}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":32,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":18},"generated":{"line":32,"column":10}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":22},"generated":{"line":32,"column":14}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":25},"generated":{"line":32,"column":17}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":30},"generated":{"line":32,"column":22}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":31},"generated":{"line":32,"column":23}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":25},"generated":{"line":32,"column":28}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":37},"generated":{"line":32,"column":29}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":25},"generated":{"line":32,"column":34}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":43},"generated":{"line":32,"column":35}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":25},"generated":{"line":32,"column":41}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":50},"generated":{"line":32,"column":42}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":25},"generated":{"line":32,"column":50}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":60},"generated":{"line":32,"column":52}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":25},"generated":{"line":32,"column":58}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":67},"generated":{"line":32,"column":59}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":25},"generated":{"line":32,"column":68}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":57,"column":17},"generated":{"line":32,"column":70}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":25},"generated":{"line":32,"column":76}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":57,"column":24},"generated":{"line":32,"column":77}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":25},"generated":{"line":32,"column":83}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":57,"column":31},"generated":{"line":32,"column":84}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":25},"generated":{"line":32,"column":93}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":57,"column":42},"generated":{"line":32,"column":95}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":25},"generated":{"line":32,"column":102}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":57,"column":50},"generated":{"line":32,"column":103}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":25},"generated":{"line":32,"column":109}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":57,"column":57},"generated":{"line":32,"column":110}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":25},"generated":{"line":32,"column":119}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":32,"column":120}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":58,"column":12},"generated":{"line":33,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":58,"column":12},"generated":{"line":33,"column":6}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":58,"column":16},"generated":{"line":33,"column":10}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":58,"column":17},"generated":{"line":33,"column":11}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":58,"column":12},"generated":{"line":33,"column":19}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":58,"column":28},"generated":{"line":33,"column":22}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":58,"column":12},"generated":{"line":33,"column":30}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":59,"column":12},"generated":{"line":34,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":59,"column":12},"generated":{"line":34,"column":6}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":59,"column":16},"generated":{"line":34,"column":10}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":59,"column":17},"generated":{"line":34,"column":11}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":59,"column":12},"generated":{"line":34,"column":16}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":59,"column":25},"generated":{"line":34,"column":19}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":59,"column":12},"generated":{"line":34,"column":24}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":60,"column":12},"generated":{"line":35,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":60,"column":12},"generated":{"line":35,"column":6}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":60,"column":16},"generated":{"line":35,"column":10}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":60,"column":17},"generated":{"line":35,"column":11}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":60,"column":12},"generated":{"line":35,"column":23}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":60,"column":32},"generated":{"line":35,"column":26}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":60,"column":12},"generated":{"line":35,"column":38}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":61,"column":9},"generated":{"line":36,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":36,"column":5}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":62,"column":5},"generated":{"line":37,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":11,"column":27},"generated":{"line":37,"column":3}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":63,"column":4},"generated":{"line":38,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":63,"column":4},"generated":{"line":38,"column":2}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":63,"column":9},"generated":{"line":38,"column":7}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":63,"column":11},"generated":{"line":38,"column":9}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":64,"column":8},"generated":{"line":38,"column":24}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":63,"column":11},"generated":{"line":38,"column":32}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":65,"column":8},"generated":{"line":38,"column":34}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":63,"column":11},"generated":{"line":38,"column":43}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":66,"column":8},"generated":{"line":38,"column":45}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":63,"column":11},"generated":{"line":38,"column":54}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":67,"column":8},"generated":{"line":38,"column":56}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":63,"column":11},"generated":{"line":38,"column":65}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":68,"column":8},"generated":{"line":38,"column":67}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":63,"column":11},"generated":{"line":38,"column":75}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":68,"column":24},"generated":{"line":38,"column":77}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":70,"column":8},"generated":{"line":39,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":70,"column":14},"generated":{"line":39,"column":20}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":70,"column":8},"generated":{"line":39,"column":26}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":70,"column":21},"generated":{"line":39,"column":27}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":70,"column":22},"generated":{"line":39,"column":37}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":70,"column":21},"generated":{"line":39,"column":42}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":70,"column":29},"generated":{"line":39,"column":44}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":70,"column":21},"generated":{"line":39,"column":49}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":70,"column":34},"generated":{"line":39,"column":51}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":71,"column":12},"generated":{"line":40,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":71,"column":18},"generated":{"line":40,"column":10}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":71,"column":23},"generated":{"line":40,"column":15}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":72,"column":16},"generated":{"line":40,"column":18}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":72,"column":21},"generated":{"line":40,"column":23}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":72,"column":22},"generated":{"line":40,"column":24}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":72,"column":16},"generated":{"line":40,"column":29}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":72,"column":28},"generated":{"line":40,"column":30}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":72,"column":16},"generated":{"line":40,"column":35}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":72,"column":34},"generated":{"line":40,"column":36}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":72,"column":16},"generated":{"line":40,"column":42}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":72,"column":41},"generated":{"line":40,"column":43}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":72,"column":16},"generated":{"line":40,"column":51}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":72,"column":51},"generated":{"line":40,"column":53}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":72,"column":16},"generated":{"line":40,"column":59}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":72,"column":58},"generated":{"line":40,"column":60}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":72,"column":16},"generated":{"line":40,"column":69}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":72,"column":69},"generated":{"line":40,"column":71}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":72,"column":16},"generated":{"line":40,"column":77}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":73,"column":21},"generated":{"line":40,"column":78}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":72,"column":16},"generated":{"line":40,"column":84}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":73,"column":28},"generated":{"line":40,"column":85}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":72,"column":16},"generated":{"line":40,"column":94}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":71,"column":12},"generated":{"line":40,"column":95}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":74,"column":12},"generated":{"line":41,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":74,"column":18},"generated":{"line":41,"column":10}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":74,"column":26},"generated":{"line":41,"column":18}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":74,"column":29},"generated":{"line":41,"column":21}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":74,"column":34},"generated":{"line":41,"column":26}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":74,"column":35},"generated":{"line":41,"column":27}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":74,"column":29},"generated":{"line":41,"column":34}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":74,"column":43},"generated":{"line":41,"column":35}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":74,"column":29},"generated":{"line":41,"column":41}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":74,"column":50},"generated":{"line":41,"column":42}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":74,"column":29},"generated":{"line":41,"column":51}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":74,"column":12},"generated":{"line":41,"column":52}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":75,"column":12},"generated":{"line":42,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":75,"column":18},"generated":{"line":42,"column":10}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":75,"column":26},"generated":{"line":42,"column":18}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":75,"column":29},"generated":{"line":42,"column":21}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":76,"column":16},"generated":{"line":42,"column":46}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":75,"column":29},"generated":{"line":42,"column":54}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":77,"column":16},"generated":{"line":42,"column":56}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":77,"column":24},"generated":{"line":42,"column":64}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":77,"column":25},"generated":{"line":42,"column":65}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":77,"column":16},"generated":{"line":42,"column":73}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":77,"column":37},"generated":{"line":42,"column":77}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":77,"column":45},"generated":{"line":42,"column":85}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":77,"column":48},"generated":{"line":42,"column":88}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":77,"column":56},"generated":{"line":42,"column":96}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":77,"column":57},"generated":{"line":42,"column":97}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":77,"column":16},"generated":{"line":42,"column":101}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":75,"column":29},"generated":{"line":42,"column":102}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":78,"column":16},"generated":{"line":42,"column":104}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":78,"column":24},"generated":{"line":42,"column":112}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":78,"column":25},"generated":{"line":42,"column":113}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":75,"column":29},"generated":{"line":42,"column":118}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":79,"column":16},"generated":{"line":42,"column":120}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":79,"column":24},"generated":{"line":42,"column":128}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":79,"column":25},"generated":{"line":42,"column":129}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":75,"column":29},"generated":{"line":42,"column":137}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":80,"column":16},"generated":{"line":42,"column":139}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":80,"column":24},"generated":{"line":42,"column":147}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":80,"column":25},"generated":{"line":42,"column":148}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":75,"column":29},"generated":{"line":42,"column":160}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":75,"column":12},"generated":{"line":42,"column":161}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":82,"column":12},"generated":{"line":43,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":82,"column":25},"generated":{"line":43,"column":31}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":82,"column":12},"generated":{"line":43,"column":36}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":82,"column":32},"generated":{"line":43,"column":38}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":82,"column":12},"generated":{"line":43,"column":46}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":83,"column":12},"generated":{"line":44,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":83,"column":12},"generated":{"line":44,"column":6}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":83,"column":20},"generated":{"line":44,"column":14}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":83,"column":21},"generated":{"line":44,"column":15}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":83,"column":12},"generated":{"line":44,"column":23}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":83,"column":32},"generated":{"line":44,"column":26}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":83,"column":40},"generated":{"line":44,"column":34}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":83,"column":43},"generated":{"line":44,"column":37}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":83,"column":51},"generated":{"line":44,"column":45}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":83,"column":52},"generated":{"line":44,"column":46}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":83,"column":12},"generated":{"line":44,"column":50}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":84,"column":9},"generated":{"line":45,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":70,"column":8},"generated":{"line":45,"column":5}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":85,"column":5},"generated":{"line":46,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":11,"column":27},"generated":{"line":46,"column":3}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":86,"column":4},"generated":{"line":47,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":86,"column":4},"generated":{"line":47,"column":2}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":86,"column":10},"generated":{"line":47,"column":8}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":86,"column":12},"generated":{"line":47,"column":10}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":87,"column":8},"generated":{"line":47,"column":26}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":86,"column":12},"generated":{"line":47,"column":34}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":88,"column":8},"generated":{"line":47,"column":36}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":86,"column":12},"generated":{"line":47,"column":45}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":89,"column":8},"generated":{"line":47,"column":47}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":86,"column":12},"generated":{"line":47,"column":56}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":90,"column":8},"generated":{"line":47,"column":58}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":86,"column":12},"generated":{"line":47,"column":67}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":90,"column":25},"generated":{"line":47,"column":69}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":92,"column":8},"generated":{"line":48,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":92,"column":14},"generated":{"line":48,"column":20}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":92,"column":8},"generated":{"line":48,"column":26}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":92,"column":21},"generated":{"line":48,"column":27}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":92,"column":22},"generated":{"line":48,"column":37}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":92,"column":21},"generated":{"line":48,"column":42}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":92,"column":27},"generated":{"line":48,"column":44}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":93,"column":12},"generated":{"line":49,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":49,"column":31}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":94,"column":21},"generated":{"line":49,"column":36}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":94,"column":22},"generated":{"line":49,"column":37}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":49,"column":42}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":94,"column":28},"generated":{"line":49,"column":43}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":49,"column":48}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":94,"column":34},"generated":{"line":49,"column":49}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":49,"column":55}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":94,"column":41},"generated":{"line":49,"column":56}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":49,"column":64}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":94,"column":51},"generated":{"line":49,"column":66}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":49,"column":72}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":94,"column":58},"generated":{"line":49,"column":73}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":49,"column":82}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":94,"column":69},"generated":{"line":49,"column":84}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":49,"column":90}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":95,"column":21},"generated":{"line":49,"column":91}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":49,"column":97}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":95,"column":28},"generated":{"line":49,"column":98}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":49,"column":107}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":93,"column":12},"generated":{"line":49,"column":108}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":96,"column":16},"generated":{"line":49,"column":110}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":93,"column":12},"generated":{"line":49,"column":119}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":98,"column":9},"generated":{"line":50,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":92,"column":8},"generated":{"line":50,"column":5}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":99,"column":5},"generated":{"line":51,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":11,"column":27},"generated":{"line":52,"column":0}},{"source":"store/entries/tone/actions.ts","name":null,"original":{"line":11,"column":7},"generated":{"line":52,"column":1}}],"sources":{"store/entries/tone/actions.ts":"import {\n    remove_entry,\n    insert_entry,\n    move_entry,\n} from \"../../score-track/utils\";\nimport { store } from \"../../use-store\";\nimport { create_tone } from \"./utils\";\nimport { Tone } from \"./defs\";\nimport { Pitch, Articulation } from \"..\";\n\nexport const toneActions = {\n    /**\n     * Create a new tone.\n     *\n     * With MIDI pitches, tick counts and velocity 0-127\n     */\n    create: (\n        flow_key: string,\n        stave_key: string,\n        track_key: string,\n        tick: number,\n        duration: number,\n        pitch: Pitch,\n        velocity: number,\n        articulation: Articulation\n    ): string => {\n        const tone = create_tone(tick, duration, pitch, velocity, articulation);\n\n        store.update((draft, state) => {\n            insert_entry(\n                draft.score.flows.by_key[flow_key].staves[stave_key].tracks\n                    .by_key[track_key],\n                tone\n            );\n        });\n\n        return tone.key;\n    },\n    update: (\n        flow_key: string,\n        stave_key: string,\n        track_key: string,\n        entry_key: string,\n        tick: number,\n        duration: number,\n        pitch: Pitch,\n        articulation: Articulation\n    ) => {\n        store.update((draft) => {\n            move_entry(\n                draft.score.flows.by_key[flow_key].staves[stave_key].tracks\n                    .by_key[track_key],\n                entry_key,\n                tick\n            );\n            const tone = draft.score.flows.by_key[flow_key].staves[stave_key]\n                .tracks.by_key[track_key].entries.by_key[entry_key] as Tone;\n            tone.duration = duration;\n            tone.pitch = pitch;\n            tone.articulation = articulation;\n        });\n    },\n    slice: (\n        flow_key: string,\n        stave_key: string,\n        track_key: string,\n        entry_key: string,\n        slice_at: number\n    ) => {\n        store.update((draft, state) => {\n            const track =\n                draft.score.flows.by_key[flow_key].staves[stave_key].tracks\n                    .by_key[track_key];\n            const old_tone = track.entries.by_key[entry_key] as Tone;\n            const new_tone = create_tone(\n                slice_at,\n                old_tone.duration - (slice_at - old_tone.tick),\n                old_tone.pitch,\n                old_tone.velocity,\n                old_tone.articulation\n            );\n            insert_entry(track, new_tone);\n            old_tone.duration = slice_at - old_tone.tick;\n        });\n    },\n    remove: (\n        flow_key: string,\n        stave_key: string,\n        track_key: string,\n        entry_key: string\n    ) => {\n        store.update((draft) => {\n            remove_entry(\n                draft.score.flows.by_key[flow_key].staves[stave_key].tracks\n                    .by_key[track_key],\n                entry_key\n            );\n        });\n    },\n};\n"},"lineCount":null}},"error":null,"hash":"c25090b1efbd80cbf683b5ccc9f91639","cacheData":{"env":{}}}