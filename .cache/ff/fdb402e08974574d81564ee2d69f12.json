{"id":"IELQ","dependencies":[{"name":"/home/aled/solo-composer-ui/tsconfig.json","includedInParent":true,"mtime":1598401787877},{"name":"/home/aled/solo-composer-ui/package.json","includedInParent":true,"mtime":1598403412572},{"name":"react","loc":{"line":1,"column":43},"parent":"/home/aled/solo-composer-ui/src/play/fader/index.tsx","resolved":"/home/aled/solo-composer-ui/node_modules/react/index.js"},{"name":"../../../ui","loc":{"line":2,"column":38},"parent":"/home/aled/solo-composer-ui/src/play/fader/index.tsx","resolved":"/home/aled/solo-composer-ui/ui/index.ts"},{"name":"../../store/playback","loc":{"line":3,"column":28},"parent":"/home/aled/solo-composer-ui/src/play/fader/index.tsx","resolved":"/home/aled/solo-composer-ui/src/store/playback/index.ts"},{"name":"./styles.css","loc":{"line":4,"column":7},"parent":"/home/aled/solo-composer-ui/src/play/fader/index.tsx","resolved":"/home/aled/solo-composer-ui/src/play/fader/styles.css"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Fader=void 0;var e=a(require(\"react\")),t=require(\"../../../ui\"),r=require(\"../../store/playback\");function n(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}return r.default=e,t&&t.set(e,r),r}require(\"./styles.css\");var l=function(n){var a=n.instrumentKey,l=n.volume,o=n.color,u=n.onChange,f=(0,e.useRef)(null),i=(0,r.useWaveform)(a),c=(0,e.useCallback)(function(e){\"ArrowLeft\"===e.key&&(e.preventDefault(),u(l-1<0?0:l-1)),\"ArrowRight\"===e.key&&(e.preventDefault(),u(l+1>100?100:l+1))},[l,u]),s=(0,t.useDragHandler)({onDown:function(){if(!f.current)return!1;var e=f.current.getBoundingClientRect();return{width:e.width,left:e.left}},onMove:function(e,t){var r=e.clientX-t.left;if(r<0)u(0);else if(r>t.width)u(100);else{var n=r/t.width*100;u(n)}},onEnd:function(){}},[f]);return e.default.createElement(\"div\",{className:\"fader\"},e.default.createElement(\"div\",{className:\"fader__track\",ref:f},e.default.createElement(\"button\",{className:\"fader__handle\",onPointerDown:s,onKeyDown:c,style:{left:l+\"%\",backgroundColor:o}}),e.default.createElement(\"div\",{className:\"fader__meter\",style:{backgroundColor:o,width:100*i+\"%\"}})),Array(11).fill(null).map(function(r,n){return e.default.createElement(\"div\",{key:n,className:(0,t.merge)(\"fader__scale\",{\"fader__scale--tall\":n%5==0}),style:{left:10*n+\"%\"}})}))};exports.Fader=l;"},"sourceMaps":{"js":{"mappings":[{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":0}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":13}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":20}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":35}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":43}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":56}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":57}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":64}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":68}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":76}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":87}},{"source":"play/fader/index.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":89}},{"source":"play/fader/index.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":93}},{"source":"play/fader/index.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"play/fader/index.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"play/fader/index.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"play/fader/index.tsx","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":115}},{"source":"play/fader/index.tsx","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":117}},{"source":"play/fader/index.tsx","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":125}},{"source":"play/fader/index.tsx","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":140}},{"source":"play/fader/index.tsx","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":142}},{"source":"play/fader/index.tsx","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":150}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":174}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":183}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":187}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":190}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":209}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":217}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":224}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":229}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":233}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":235}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":239}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":247}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":254}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":256}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":267}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":274}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":277}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":279}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":288}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":290}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":293}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":296}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":299}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":301}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":312}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":319}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":321}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":324}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":331}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":334}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":351}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":354}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":373}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":375}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":381}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":382}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":390}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":393}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":397}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":399}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":403}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":406}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":409}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":411}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":415}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":418}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":425}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":427}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":431}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":434}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":438}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":440}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":443}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":445}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":452}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":468}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":475}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":500}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":504}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":508}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":513}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":515}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":518}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":525}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":535}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":550}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":555}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":557}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":560}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":561}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":565}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":567}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":569}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":576}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":601}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":603}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":606}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":611}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":615}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":617}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":622}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":624}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":629}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":636}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":651}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":653}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":655}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":658}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":660}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":663}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":665}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":668}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":675}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":677}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":685}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":687}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":690}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":692}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":696}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":698}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":701}},{"source":"play/fader/index.tsx","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":703}},{"source":"play/fader/index.tsx","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":711}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":727}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":13},"generated":{"line":1,"column":731}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":32},"generated":{"line":1,"column":733}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":33},"generated":{"line":1,"column":742}},{"source":"play/fader/index.tsx","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":745}},{"source":"play/fader/index.tsx","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":749}},{"source":"play/fader/index.tsx","name":null,"original":{"line":15,"column":17},"generated":{"line":1,"column":751}},{"source":"play/fader/index.tsx","name":null,"original":{"line":15,"column":17},"generated":{"line":1,"column":753}},{"source":"play/fader/index.tsx","name":null,"original":{"line":16,"column":4},"generated":{"line":1,"column":767}},{"source":"play/fader/index.tsx","name":null,"original":{"line":16,"column":10},"generated":{"line":1,"column":769}},{"source":"play/fader/index.tsx","name":null,"original":{"line":16,"column":10},"generated":{"line":1,"column":771}},{"source":"play/fader/index.tsx","name":null,"original":{"line":17,"column":4},"generated":{"line":1,"column":778}},{"source":"play/fader/index.tsx","name":null,"original":{"line":17,"column":9},"generated":{"line":1,"column":780}},{"source":"play/fader/index.tsx","name":null,"original":{"line":17,"column":9},"generated":{"line":1,"column":782}},{"source":"play/fader/index.tsx","name":null,"original":{"line":18,"column":4},"generated":{"line":1,"column":788}},{"source":"play/fader/index.tsx","name":null,"original":{"line":18,"column":12},"generated":{"line":1,"column":790}},{"source":"play/fader/index.tsx","name":null,"original":{"line":18,"column":12},"generated":{"line":1,"column":792}},{"source":"play/fader/index.tsx","name":null,"original":{"line":20,"column":10},"generated":{"line":1,"column":801}},{"source":"play/fader/index.tsx","name":null,"original":{"line":20,"column":16},"generated":{"line":1,"column":804}},{"source":"play/fader/index.tsx","name":null,"original":{"line":20,"column":39},"generated":{"line":1,"column":806}},{"source":"play/fader/index.tsx","name":null,"original":{"line":20,"column":39},"generated":{"line":1,"column":808}},{"source":"play/fader/index.tsx","name":null,"original":{"line":20,"column":39},"generated":{"line":1,"column":816}},{"source":"play/fader/index.tsx","name":null,"original":{"line":21,"column":10},"generated":{"line":1,"column":822}},{"source":"play/fader/index.tsx","name":null,"original":{"line":21,"column":22},"generated":{"line":1,"column":825}},{"source":"play/fader/index.tsx","name":null,"original":{"line":21,"column":34},"generated":{"line":1,"column":827}},{"source":"play/fader/index.tsx","name":null,"original":{"line":21,"column":34},"generated":{"line":1,"column":829}},{"source":"play/fader/index.tsx","name":null,"original":{"line":21,"column":34},"generated":{"line":1,"column":842}},{"source":"play/fader/index.tsx","name":null,"original":{"line":23,"column":10},"generated":{"line":1,"column":845}},{"source":"play/fader/index.tsx","name":null,"original":{"line":23,"column":21},"generated":{"line":1,"column":848}},{"source":"play/fader/index.tsx","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":850}},{"source":"play/fader/index.tsx","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":852}},{"source":"play/fader/index.tsx","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":865}},{"source":"play/fader/index.tsx","name":null,"original":{"line":24,"column":9},"generated":{"line":1,"column":874}},{"source":"play/fader/index.tsx","name":null,"original":{"line":25,"column":26},"generated":{"line":1,"column":877}},{"source":"play/fader/index.tsx","name":null,"original":{"line":25,"column":16},"generated":{"line":1,"column":891}},{"source":"play/fader/index.tsx","name":null,"original":{"line":25,"column":18},"generated":{"line":1,"column":893}},{"source":"play/fader/index.tsx","name":null,"original":{"line":26,"column":16},"generated":{"line":1,"column":899}},{"source":"play/fader/index.tsx","name":null,"original":{"line":26,"column":18},"generated":{"line":1,"column":901}},{"source":"play/fader/index.tsx","name":null,"original":{"line":27,"column":33},"generated":{"line":1,"column":918}},{"source":"play/fader/index.tsx","name":null,"original":{"line":27,"column":16},"generated":{"line":1,"column":920}},{"source":"play/fader/index.tsx","name":null,"original":{"line":27,"column":25},"generated":{"line":1,"column":922}},{"source":"play/fader/index.tsx","name":null,"original":{"line":27,"column":29},"generated":{"line":1,"column":924}},{"source":"play/fader/index.tsx","name":null,"original":{"line":27,"column":42},"generated":{"line":1,"column":926}},{"source":"play/fader/index.tsx","name":null,"original":{"line":27,"column":56},"generated":{"line":1,"column":928}},{"source":"play/fader/index.tsx","name":null,"original":{"line":27,"column":65},"generated":{"line":1,"column":930}},{"source":"play/fader/index.tsx","name":null,"original":{"line":29,"column":26},"generated":{"line":1,"column":934}},{"source":"play/fader/index.tsx","name":null,"original":{"line":29,"column":16},"generated":{"line":1,"column":949}},{"source":"play/fader/index.tsx","name":null,"original":{"line":29,"column":18},"generated":{"line":1,"column":951}},{"source":"play/fader/index.tsx","name":null,"original":{"line":30,"column":16},"generated":{"line":1,"column":957}},{"source":"play/fader/index.tsx","name":null,"original":{"line":30,"column":18},"generated":{"line":1,"column":959}},{"source":"play/fader/index.tsx","name":null,"original":{"line":31,"column":35},"generated":{"line":1,"column":976}},{"source":"play/fader/index.tsx","name":null,"original":{"line":31,"column":16},"generated":{"line":1,"column":978}},{"source":"play/fader/index.tsx","name":null,"original":{"line":31,"column":25},"generated":{"line":1,"column":980}},{"source":"play/fader/index.tsx","name":null,"original":{"line":31,"column":29},"generated":{"line":1,"column":982}},{"source":"play/fader/index.tsx","name":null,"original":{"line":31,"column":44},"generated":{"line":1,"column":986}},{"source":"play/fader/index.tsx","name":null,"original":{"line":31,"column":60},"generated":{"line":1,"column":990}},{"source":"play/fader/index.tsx","name":null,"original":{"line":31,"column":69},"generated":{"line":1,"column":992}},{"source":"play/fader/index.tsx","name":null,"original":{"line":34,"column":8},"generated":{"line":1,"column":997}},{"source":"play/fader/index.tsx","name":null,"original":{"line":34,"column":9},"generated":{"line":1,"column":998}},{"source":"play/fader/index.tsx","name":null,"original":{"line":34,"column":17},"generated":{"line":1,"column":1000}},{"source":"play/fader/index.tsx","name":null,"original":{"line":37,"column":10},"generated":{"line":1,"column":1004}},{"source":"play/fader/index.tsx","name":null,"original":{"line":37,"column":24},"generated":{"line":1,"column":1007}},{"source":"play/fader/index.tsx","name":null,"original":{"line":38,"column":8},"generated":{"line":1,"column":1009}},{"source":"play/fader/index.tsx","name":null,"original":{"line":38,"column":8},"generated":{"line":1,"column":1011}},{"source":"play/fader/index.tsx","name":null,"original":{"line":38,"column":8},"generated":{"line":1,"column":1027}},{"source":"play/fader/index.tsx","name":null,"original":{"line":39,"column":12},"generated":{"line":1,"column":1028}},{"source":"play/fader/index.tsx","name":null,"original":{"line":39,"column":20},"generated":{"line":1,"column":1035}},{"source":"play/fader/index.tsx","name":null,"original":{"line":40,"column":20},"generated":{"line":1,"column":1046}},{"source":"play/fader/index.tsx","name":null,"original":{"line":40,"column":21},"generated":{"line":1,"column":1050}},{"source":"play/fader/index.tsx","name":null,"original":{"line":40,"column":25},"generated":{"line":1,"column":1052}},{"source":"play/fader/index.tsx","name":null,"original":{"line":41,"column":27},"generated":{"line":1,"column":1060}},{"source":"play/fader/index.tsx","name":null,"original":{"line":41,"column":27},"generated":{"line":1,"column":1067}},{"source":"play/fader/index.tsx","name":null,"original":{"line":44,"column":22},"generated":{"line":1,"column":1069}},{"source":"play/fader/index.tsx","name":null,"original":{"line":44,"column":22},"generated":{"line":1,"column":1073}},{"source":"play/fader/index.tsx","name":null,"original":{"line":44,"column":28},"generated":{"line":1,"column":1075}},{"source":"play/fader/index.tsx","name":null,"original":{"line":44,"column":32},"generated":{"line":1,"column":1077}},{"source":"play/fader/index.tsx","name":null,"original":{"line":44,"column":40},"generated":{"line":1,"column":1085}},{"source":"play/fader/index.tsx","name":null,"original":{"line":45,"column":23},"generated":{"line":1,"column":1109}},{"source":"play/fader/index.tsx","name":null,"original":{"line":45,"column":23},"generated":{"line":1,"column":1115}},{"source":"play/fader/index.tsx","name":null,"original":{"line":45,"column":25},"generated":{"line":1,"column":1116}},{"source":"play/fader/index.tsx","name":null,"original":{"line":45,"column":32},"generated":{"line":1,"column":1122}},{"source":"play/fader/index.tsx","name":null,"original":{"line":45,"column":36},"generated":{"line":1,"column":1124}},{"source":"play/fader/index.tsx","name":null,"original":{"line":45,"column":43},"generated":{"line":1,"column":1130}},{"source":"play/fader/index.tsx","name":null,"original":{"line":45,"column":49},"generated":{"line":1,"column":1135}},{"source":"play/fader/index.tsx","name":null,"original":{"line":45,"column":53},"generated":{"line":1,"column":1137}},{"source":"play/fader/index.tsx","name":null,"original":{"line":47,"column":12},"generated":{"line":1,"column":1144}},{"source":"play/fader/index.tsx","name":null,"original":{"line":47,"column":20},"generated":{"line":1,"column":1151}},{"source":"play/fader/index.tsx","name":null,"original":{"line":47,"column":21},"generated":{"line":1,"column":1160}},{"source":"play/fader/index.tsx","name":null,"original":{"line":47,"column":24},"generated":{"line":1,"column":1162}},{"source":"play/fader/index.tsx","name":null,"original":{"line":48,"column":22},"generated":{"line":1,"column":1165}},{"source":"play/fader/index.tsx","name":null,"original":{"line":48,"column":22},"generated":{"line":1,"column":1169}},{"source":"play/fader/index.tsx","name":null,"original":{"line":48,"column":31},"generated":{"line":1,"column":1171}},{"source":"play/fader/index.tsx","name":null,"original":{"line":48,"column":33},"generated":{"line":1,"column":1173}},{"source":"play/fader/index.tsx","name":null,"original":{"line":48,"column":43},"generated":{"line":1,"column":1181}},{"source":"play/fader/index.tsx","name":null,"original":{"line":48,"column":48},"generated":{"line":1,"column":1183}},{"source":"play/fader/index.tsx","name":null,"original":{"line":49,"column":20},"generated":{"line":1,"column":1188}},{"source":"play/fader/index.tsx","name":null,"original":{"line":49,"column":20},"generated":{"line":1,"column":1191}},{"source":"play/fader/index.tsx","name":null,"original":{"line":49,"column":29},"generated":{"line":1,"column":1193}},{"source":"play/fader/index.tsx","name":null,"original":{"line":50,"column":20},"generated":{"line":1,"column":1195}},{"source":"play/fader/index.tsx","name":null,"original":{"line":50,"column":29},"generated":{"line":1,"column":1197}},{"source":"play/fader/index.tsx","name":null,"original":{"line":51,"column":23},"generated":{"line":1,"column":1205}},{"source":"play/fader/index.tsx","name":null,"original":{"line":51,"column":27},"generated":{"line":1,"column":1208}},{"source":"play/fader/index.tsx","name":null,"original":{"line":51,"column":36},"generated":{"line":1,"column":1210}},{"source":"play/fader/index.tsx","name":null,"original":{"line":51,"column":41},"generated":{"line":1,"column":1212}},{"source":"play/fader/index.tsx","name":null,"original":{"line":52,"column":20},"generated":{"line":1,"column":1218}},{"source":"play/fader/index.tsx","name":null,"original":{"line":52,"column":29},"generated":{"line":1,"column":1220}},{"source":"play/fader/index.tsx","name":null,"original":{"line":53,"column":23},"generated":{"line":1,"column":1229}},{"source":"play/fader/index.tsx","name":null,"original":{"line":54,"column":26},"generated":{"line":1,"column":1230}},{"source":"play/fader/index.tsx","name":null,"original":{"line":54,"column":26},"generated":{"line":1,"column":1234}},{"source":"play/fader/index.tsx","name":null,"original":{"line":54,"column":34},"generated":{"line":1,"column":1236}},{"source":"play/fader/index.tsx","name":null,"original":{"line":54,"column":43},"generated":{"line":1,"column":1238}},{"source":"play/fader/index.tsx","name":null,"original":{"line":54,"column":48},"generated":{"line":1,"column":1240}},{"source":"play/fader/index.tsx","name":null,"original":{"line":54,"column":57},"generated":{"line":1,"column":1246}},{"source":"play/fader/index.tsx","name":null,"original":{"line":55,"column":20},"generated":{"line":1,"column":1250}},{"source":"play/fader/index.tsx","name":null,"original":{"line":55,"column":29},"generated":{"line":1,"column":1252}},{"source":"play/fader/index.tsx","name":null,"original":{"line":58,"column":12},"generated":{"line":1,"column":1257}},{"source":"play/fader/index.tsx","name":null,"original":{"line":58,"column":19},"generated":{"line":1,"column":1263}},{"source":"play/fader/index.tsx","name":null,"original":{"line":60,"column":8},"generated":{"line":1,"column":1277}},{"source":"play/fader/index.tsx","name":null,"original":{"line":60,"column":9},"generated":{"line":1,"column":1278}},{"source":"play/fader/index.tsx","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":1282}},{"source":"play/fader/index.tsx","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":1289}},{"source":"play/fader/index.tsx","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":1291}},{"source":"play/fader/index.tsx","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":1299}},{"source":"play/fader/index.tsx","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":1313}},{"source":"play/fader/index.tsx","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":1319}},{"source":"play/fader/index.tsx","name":null,"original":{"line":64,"column":13},"generated":{"line":1,"column":1320}},{"source":"play/fader/index.tsx","name":null,"original":{"line":64,"column":23},"generated":{"line":1,"column":1330}},{"source":"play/fader/index.tsx","name":null,"original":{"line":65,"column":12},"generated":{"line":1,"column":1339}},{"source":"play/fader/index.tsx","name":null,"original":{"line":65,"column":12},"generated":{"line":1,"column":1341}},{"source":"play/fader/index.tsx","name":null,"original":{"line":65,"column":12},"generated":{"line":1,"column":1349}},{"source":"play/fader/index.tsx","name":null,"original":{"line":65,"column":12},"generated":{"line":1,"column":1363}},{"source":"play/fader/index.tsx","name":null,"original":{"line":65,"column":12},"generated":{"line":1,"column":1369}},{"source":"play/fader/index.tsx","name":null,"original":{"line":65,"column":17},"generated":{"line":1,"column":1370}},{"source":"play/fader/index.tsx","name":null,"original":{"line":65,"column":27},"generated":{"line":1,"column":1380}},{"source":"play/fader/index.tsx","name":null,"original":{"line":65,"column":42},"generated":{"line":1,"column":1395}},{"source":"play/fader/index.tsx","name":null,"original":{"line":65,"column":47},"generated":{"line":1,"column":1399}},{"source":"play/fader/index.tsx","name":null,"original":{"line":66,"column":16},"generated":{"line":1,"column":1402}},{"source":"play/fader/index.tsx","name":null,"original":{"line":66,"column":16},"generated":{"line":1,"column":1404}},{"source":"play/fader/index.tsx","name":null,"original":{"line":66,"column":16},"generated":{"line":1,"column":1412}},{"source":"play/fader/index.tsx","name":null,"original":{"line":66,"column":16},"generated":{"line":1,"column":1426}},{"source":"play/fader/index.tsx","name":null,"original":{"line":66,"column":16},"generated":{"line":1,"column":1435}},{"source":"play/fader/index.tsx","name":null,"original":{"line":67,"column":20},"generated":{"line":1,"column":1436}},{"source":"play/fader/index.tsx","name":null,"original":{"line":67,"column":30},"generated":{"line":1,"column":1446}},{"source":"play/fader/index.tsx","name":null,"original":{"line":68,"column":20},"generated":{"line":1,"column":1462}},{"source":"play/fader/index.tsx","name":null,"original":{"line":68,"column":35},"generated":{"line":1,"column":1476}},{"source":"play/fader/index.tsx","name":null,"original":{"line":69,"column":20},"generated":{"line":1,"column":1478}},{"source":"play/fader/index.tsx","name":null,"original":{"line":69,"column":31},"generated":{"line":1,"column":1488}},{"source":"play/fader/index.tsx","name":null,"original":{"line":70,"column":20},"generated":{"line":1,"column":1490}},{"source":"play/fader/index.tsx","name":null,"original":{"line":70,"column":27},"generated":{"line":1,"column":1496}},{"source":"play/fader/index.tsx","name":null,"original":{"line":70,"column":29},"generated":{"line":1,"column":1497}},{"source":"play/fader/index.tsx","name":null,"original":{"line":70,"column":38},"generated":{"line":1,"column":1502}},{"source":"play/fader/index.tsx","name":null,"original":{"line":70,"column":44},"generated":{"line":1,"column":1504}},{"source":"play/fader/index.tsx","name":null,"original":{"line":70,"column":49},"generated":{"line":1,"column":1508}},{"source":"play/fader/index.tsx","name":null,"original":{"line":70,"column":66},"generated":{"line":1,"column":1524}},{"source":"play/fader/index.tsx","name":null,"original":{"line":72,"column":16},"generated":{"line":1,"column":1529}},{"source":"play/fader/index.tsx","name":null,"original":{"line":72,"column":16},"generated":{"line":1,"column":1531}},{"source":"play/fader/index.tsx","name":null,"original":{"line":72,"column":16},"generated":{"line":1,"column":1539}},{"source":"play/fader/index.tsx","name":null,"original":{"line":72,"column":16},"generated":{"line":1,"column":1553}},{"source":"play/fader/index.tsx","name":null,"original":{"line":72,"column":16},"generated":{"line":1,"column":1559}},{"source":"play/fader/index.tsx","name":null,"original":{"line":73,"column":20},"generated":{"line":1,"column":1560}},{"source":"play/fader/index.tsx","name":null,"original":{"line":73,"column":30},"generated":{"line":1,"column":1570}},{"source":"play/fader/index.tsx","name":null,"original":{"line":74,"column":20},"generated":{"line":1,"column":1585}},{"source":"play/fader/index.tsx","name":null,"original":{"line":74,"column":27},"generated":{"line":1,"column":1591}},{"source":"play/fader/index.tsx","name":null,"original":{"line":75,"column":24},"generated":{"line":1,"column":1592}},{"source":"play/fader/index.tsx","name":null,"original":{"line":75,"column":41},"generated":{"line":1,"column":1608}},{"source":"play/fader/index.tsx","name":null,"original":{"line":76,"column":24},"generated":{"line":1,"column":1610}},{"source":"play/fader/index.tsx","name":null,"original":{"line":76,"column":46},"generated":{"line":1,"column":1616}},{"source":"play/fader/index.tsx","name":null,"original":{"line":76,"column":34},"generated":{"line":1,"column":1620}},{"source":"play/fader/index.tsx","name":null,"original":{"line":76,"column":49},"generated":{"line":1,"column":1622}},{"source":"play/fader/index.tsx","name":null,"original":{"line":80,"column":13},"generated":{"line":1,"column":1630}},{"source":"play/fader/index.tsx","name":null,"original":{"line":80,"column":19},"generated":{"line":1,"column":1636}},{"source":"play/fader/index.tsx","name":null,"original":{"line":81,"column":17},"generated":{"line":1,"column":1640}},{"source":"play/fader/index.tsx","name":null,"original":{"line":81,"column":22},"generated":{"line":1,"column":1645}},{"source":"play/fader/index.tsx","name":null,"original":{"line":82,"column":17},"generated":{"line":1,"column":1651}},{"source":"play/fader/index.tsx","name":null,"original":{"line":82,"column":21},"generated":{"line":1,"column":1655}},{"source":"play/fader/index.tsx","name":null,"original":{"line":82,"column":22},"generated":{"line":1,"column":1664}},{"source":"play/fader/index.tsx","name":null,"original":{"line":82,"column":27},"generated":{"line":1,"column":1666}},{"source":"play/fader/index.tsx","name":null,"original":{"line":84,"column":24},"generated":{"line":1,"column":1669}},{"source":"play/fader/index.tsx","name":null,"original":{"line":84,"column":24},"generated":{"line":1,"column":1676}},{"source":"play/fader/index.tsx","name":null,"original":{"line":84,"column":24},"generated":{"line":1,"column":1678}},{"source":"play/fader/index.tsx","name":null,"original":{"line":84,"column":24},"generated":{"line":1,"column":1686}},{"source":"play/fader/index.tsx","name":null,"original":{"line":84,"column":24},"generated":{"line":1,"column":1700}},{"source":"play/fader/index.tsx","name":null,"original":{"line":84,"column":24},"generated":{"line":1,"column":1706}},{"source":"play/fader/index.tsx","name":null,"original":{"line":85,"column":28},"generated":{"line":1,"column":1707}},{"source":"play/fader/index.tsx","name":null,"original":{"line":85,"column":33},"generated":{"line":1,"column":1711}},{"source":"play/fader/index.tsx","name":null,"original":{"line":86,"column":28},"generated":{"line":1,"column":1713}},{"source":"play/fader/index.tsx","name":null,"original":{"line":86,"column":39},"generated":{"line":1,"column":1724}},{"source":"play/fader/index.tsx","name":null,"original":{"line":86,"column":45},"generated":{"line":1,"column":1726}},{"source":"play/fader/index.tsx","name":null,"original":{"line":86,"column":45},"generated":{"line":1,"column":1728}},{"source":"play/fader/index.tsx","name":null,"original":{"line":86,"column":45},"generated":{"line":1,"column":1735}},{"source":"play/fader/index.tsx","name":null,"original":{"line":86,"column":61},"generated":{"line":1,"column":1750}},{"source":"play/fader/index.tsx","name":null,"original":{"line":87,"column":54},"generated":{"line":1,"column":1751}},{"source":"play/fader/index.tsx","name":null,"original":{"line":87,"column":54},"generated":{"line":1,"column":1772}},{"source":"play/fader/index.tsx","name":null,"original":{"line":87,"column":58},"generated":{"line":1,"column":1774}},{"source":"play/fader/index.tsx","name":null,"original":{"line":87,"column":64},"generated":{"line":1,"column":1777}},{"source":"play/fader/index.tsx","name":null,"original":{"line":89,"column":28},"generated":{"line":1,"column":1781}},{"source":"play/fader/index.tsx","name":null,"original":{"line":89,"column":35},"generated":{"line":1,"column":1787}},{"source":"play/fader/index.tsx","name":null,"original":{"line":89,"column":37},"generated":{"line":1,"column":1788}},{"source":"play/fader/index.tsx","name":null,"original":{"line":89,"column":50},"generated":{"line":1,"column":1793}},{"source":"play/fader/index.tsx","name":null,"original":{"line":89,"column":46},"generated":{"line":1,"column":1796}},{"source":"play/fader/index.tsx","name":null,"original":{"line":89,"column":52},"generated":{"line":1,"column":1798}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":1809}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":1817}},{"source":"play/fader/index.tsx","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":1823}}],"sources":{"play/fader/index.tsx":"import React, { FC, useCallback, KeyboardEvent, useRef } from \"react\";\nimport { merge, useDragHandler } from \"../../../ui\";\nimport { useWaveform } from \"../../store/playback\";\n\nimport \"./styles.css\";\n\ninterface Props {\n    instrumentKey: string;\n    volume: number;\n    color: string;\n    onChange: (value: number) => void;\n}\n\nexport const Fader: FC<Props> = ({\n    instrumentKey,\n    volume,\n    color,\n    onChange,\n}) => {\n    const ref = useRef<HTMLDivElement>(null);\n    const amplitude = useWaveform(instrumentKey);\n\n    const keyPress = useCallback(\n        (e: KeyboardEvent<HTMLButtonElement>) => {\n            if (e.key === \"ArrowLeft\") {\n                e.preventDefault();\n                volume - 1 < 0 ? onChange(0) : onChange(volume - 1);\n            }\n            if (e.key === \"ArrowRight\") {\n                e.preventDefault();\n                volume + 1 > 100 ? onChange(100) : onChange(volume + 1);\n            }\n        },\n        [volume, onChange]\n    );\n\n    const pointerDown = useDragHandler<{ width: number; left: number }>(\n        {\n            onDown: () => {\n                if (!ref.current) {\n                    return false;\n                }\n\n                const box = ref.current.getBoundingClientRect();\n                return { width: box.width, left: box.left };\n            },\n            onMove: (e, data) => {\n                const offset = e.clientX - data.left;\n                if (offset < 0) {\n                    onChange(0);\n                } else if (offset > data.width) {\n                    onChange(100);\n                } else {\n                    const next = (offset / data.width) * 100;\n                    onChange(next);\n                }\n            },\n            onEnd: () => {},\n        },\n        [ref]\n    );\n\n    return (\n        <div className=\"fader\">\n            <div className=\"fader__track\" ref={ref}>\n                <button\n                    className=\"fader__handle\"\n                    onPointerDown={pointerDown}\n                    onKeyDown={keyPress}\n                    style={{ left: `${volume}%`, backgroundColor: color }}\n                />\n                <div\n                    className=\"fader__meter\"\n                    style={{\n                        backgroundColor: color,\n                        width: `${amplitude * 100}%`,\n                    }}\n                />\n            </div>\n            {Array(11)\n                .fill(null)\n                .map((val, i) => {\n                    return (\n                        <div\n                            key={i}\n                            className={merge(\"fader__scale\", {\n                                \"fader__scale--tall\": i % 5 === 0,\n                            })}\n                            style={{ left: `${i * 10}%` }}\n                        />\n                    );\n                })}\n        </div>\n    );\n};\n"},"lineCount":null}},"error":null,"hash":"956273754e147528e51c0d03d46dd3e3","cacheData":{"env":{}}}