{"id":"AhSb","dependencies":[{"name":"/home/aled/solo-composer-ui/tsconfig.json","includedInParent":true,"mtime":1598401787877},{"name":"/home/aled/solo-composer-ui/package.json","includedInParent":true,"mtime":1598403412572}],"generated":{"js":"\"use strict\";function e(e){var n=e.onDown,t=e.onMove,o=e.onEnd,r=void 0;return function(e){if(void 0===r){var i=n(e);if(!1!==i){r=e.pointerId;var d=function(e){if(r===e.pointerId)return t(e,i),!1},v=function e(n){r===n.pointerId&&(o(n,i),document.removeEventListener(\"pointermove\",d),document.removeEventListener(\"pointerup\",e),document.removeEventListener(\"pointercancel\",e),r=void 0)};document.addEventListener(\"pointermove\",d,{passive:!0}),document.addEventListener(\"pointerup\",v,{passive:!0}),document.addEventListener(\"pointercancel\",v,{passive:!0})}}}}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.dragHandler=e;"},"sourceMaps":{"js":{"mappings":[{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":0}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":13,"column":6},"generated":{"line":1,"column":13}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":13,"column":16},"generated":{"line":1,"column":22}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":1,"column":24}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":14,"column":4},"generated":{"line":1,"column":27}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":14,"column":4},"generated":{"line":1,"column":31}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":14,"column":10},"generated":{"line":1,"column":33}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":14,"column":10},"generated":{"line":1,"column":35}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":42}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":15,"column":10},"generated":{"line":1,"column":44}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":15,"column":10},"generated":{"line":1,"column":46}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":1,"column":53}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":55}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":57}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":18,"column":8},"generated":{"line":1,"column":63}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":18,"column":38},"generated":{"line":1,"column":70}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":1,"column":72}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":1,"column":79}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":20,"column":12},"generated":{"line":1,"column":88}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":22,"column":12},"generated":{"line":1,"column":91}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":22,"column":24},"generated":{"line":1,"column":99}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":22,"column":12},"generated":{"line":1,"column":103}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":22,"column":12},"generated":{"line":1,"column":105}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":1,"column":106}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":1,"column":110}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":24,"column":21},"generated":{"line":1,"column":112}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":24,"column":28},"generated":{"line":1,"column":114}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":26,"column":12},"generated":{"line":1,"column":117}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":26,"column":21},"generated":{"line":1,"column":121}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":26,"column":12},"generated":{"line":1,"column":125}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":26,"column":28},"generated":{"line":1,"column":127}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":27,"column":12},"generated":{"line":1,"column":128}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":27,"column":22},"generated":{"line":1,"column":130}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":27,"column":24},"generated":{"line":1,"column":132}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":29,"column":18},"generated":{"line":1,"column":142}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":29,"column":18},"generated":{"line":1,"column":146}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":29,"column":25},"generated":{"line":1,"column":148}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":29,"column":26},"generated":{"line":1,"column":157}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":30,"column":20},"generated":{"line":1,"column":160}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":30,"column":20},"generated":{"line":1,"column":163}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":30,"column":32},"generated":{"line":1,"column":167}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":30,"column":35},"generated":{"line":1,"column":169}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":33,"column":23},"generated":{"line":1,"column":179}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":32,"column":16},"generated":{"line":1,"column":186}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":32,"column":23},"generated":{"line":1,"column":188}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":32,"column":27},"generated":{"line":1,"column":190}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":33,"column":23},"generated":{"line":1,"column":194}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":36,"column":18},"generated":{"line":1,"column":197}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":36,"column":25},"generated":{"line":1,"column":199}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":36,"column":18},"generated":{"line":1,"column":208}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":36,"column":26},"generated":{"line":1,"column":210}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":37,"column":20},"generated":{"line":1,"column":213}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":37,"column":32},"generated":{"line":1,"column":217}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":37,"column":35},"generated":{"line":1,"column":219}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":39,"column":16},"generated":{"line":1,"column":231}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":39,"column":22},"generated":{"line":1,"column":233}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":39,"column":26},"generated":{"line":1,"column":235}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":41,"column":16},"generated":{"line":1,"column":238}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":41,"column":25},"generated":{"line":1,"column":247}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":41,"column":45},"generated":{"line":1,"column":267}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":41,"column":60},"generated":{"line":1,"column":281}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":42,"column":16},"generated":{"line":1,"column":284}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":42,"column":25},"generated":{"line":1,"column":293}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":42,"column":45},"generated":{"line":1,"column":313}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":325}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":43,"column":16},"generated":{"line":1,"column":328}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":43,"column":25},"generated":{"line":1,"column":337}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":357}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":43,"column":62},"generated":{"line":1,"column":373}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":45,"column":16},"generated":{"line":1,"column":376}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":45,"column":26},"generated":{"line":1,"column":383}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":48,"column":12},"generated":{"line":1,"column":387}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":48,"column":21},"generated":{"line":1,"column":396}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":48,"column":38},"generated":{"line":1,"column":413}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":48,"column":53},"generated":{"line":1,"column":427}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":48,"column":59},"generated":{"line":1,"column":429}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":48,"column":61},"generated":{"line":1,"column":430}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":48,"column":70},"generated":{"line":1,"column":439}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":1,"column":443}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":49,"column":21},"generated":{"line":1,"column":452}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":49,"column":38},"generated":{"line":1,"column":469}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":49,"column":51},"generated":{"line":1,"column":481}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":49,"column":57},"generated":{"line":1,"column":483}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":49,"column":59},"generated":{"line":1,"column":484}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":49,"column":68},"generated":{"line":1,"column":493}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":497}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":50,"column":21},"generated":{"line":1,"column":506}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":50,"column":38},"generated":{"line":1,"column":523}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":50,"column":55},"generated":{"line":1,"column":539}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":50,"column":61},"generated":{"line":1,"column":541}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":50,"column":63},"generated":{"line":1,"column":542}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":50,"column":72},"generated":{"line":1,"column":551}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":558}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":565}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":580}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":588}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":601}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":602}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":609}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":613}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":621}},{"source":"../ui/utils/drag-handler/index.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":633}}],"sources":{"../ui/utils/drag-handler/index.ts":"type DownCallback<T> = (e: React.PointerEvent) => T | false;\ntype OtherCallback<T> = (e: PointerEvent, data: T) => void;\n\nexport interface DragHandlerConfig<T> {\n    onDown: DownCallback<T>;\n    onMove: OtherCallback<T>;\n    onEnd: OtherCallback<T>;\n}\n\n/**\n * Boilerplate for adding pointer move events after an initial pointer down event\n */\nexport function dragHandler<T>({\n    onDown,\n    onMove,\n    onEnd,\n}: DragHandlerConfig<T>) {\n    let pointer: number | undefined = undefined;\n\n    return (e: React.PointerEvent<HTMLElement>) => {\n        // only one pointer at a time\n        if (pointer !== undefined) return;\n\n        const data = onDown(e);\n\n        if (data !== false) {\n            pointer = e.pointerId;\n\n            const move = (ev: PointerEvent) => {\n                if (pointer !== ev.pointerId) return;\n\n                onMove(ev, data);\n                return false;\n            };\n\n            const stop = (ev: PointerEvent) => {\n                if (pointer !== ev.pointerId) return;\n\n                onEnd(ev, data);\n\n                document.removeEventListener(\"pointermove\", move);\n                document.removeEventListener(\"pointerup\", stop);\n                document.removeEventListener(\"pointercancel\", stop);\n\n                pointer = undefined;\n            };\n\n            document.addEventListener(\"pointermove\", move, { passive: true });\n            document.addEventListener(\"pointerup\", stop, { passive: true });\n            document.addEventListener(\"pointercancel\", stop, { passive: true });\n        }\n    };\n}\n"},"lineCount":null}},"error":null,"hash":"b9fa7be7864cd2662d1e7699406f49dd","cacheData":{"env":{}}}