{"id":"play/keyboard/index.tsx","dependencies":[{"name":"/home/aled/solo-composer-ui/tsconfig.json","includedInParent":true,"mtime":1598401787877},{"name":"/home/aled/solo-composer-ui/package.json","includedInParent":true,"mtime":1598459868758},{"name":"react","loc":{"line":1,"column":18},"parent":"/home/aled/solo-composer-ui/src/play/keyboard/index.tsx","resolved":"/home/aled/solo-composer-ui/node_modules/react/index.js"},{"name":"../../../ui","loc":{"line":2,"column":31},"parent":"/home/aled/solo-composer-ui/src/play/keyboard/index.tsx","resolved":"/home/aled/solo-composer-ui/ui/index.ts"},{"name":"./slots","loc":{"line":3,"column":22},"parent":"/home/aled/solo-composer-ui/src/play/keyboard/index.tsx","resolved":"/home/aled/solo-composer-ui/src/play/keyboard/slots.tsx"},{"name":"../const","loc":{"line":4,"column":28},"parent":"/home/aled/solo-composer-ui/src/play/keyboard/index.tsx","resolved":"/home/aled/solo-composer-ui/src/play/const.ts"},{"name":"../../store/use-store","loc":{"line":5,"column":25},"parent":"/home/aled/solo-composer-ui/src/play/keyboard/index.tsx","resolved":"/home/aled/solo-composer-ui/src/store/use-store.ts"},{"name":"../../store/actions","loc":{"line":6,"column":24},"parent":"/home/aled/solo-composer-ui/src/play/keyboard/index.tsx","resolved":"/home/aled/solo-composer-ui/src/store/actions.ts"},{"name":"./styles.css","loc":{"line":7,"column":7},"parent":"/home/aled/solo-composer-ui/src/play/keyboard/index.tsx","resolved":"/home/aled/solo-composer-ui/src/play/keyboard/styles.css"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Keyboard = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _ui = require(\"../../../ui\");\n\nvar _slots = require(\"./slots\");\n\nvar _const = require(\"../const\");\n\nvar _useStore = require(\"../../store/use-store\");\n\nvar _actions = require(\"../../store/actions\");\n\nrequire(\"./styles.css\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Keyboard = function Keyboard(_a) {\n  var instrumentKey = _a.instrumentKey,\n      height = _a.height;\n  var base = (0, _useStore.useStore)(function (s) {\n    var keyboard = s.ui.play.keyboard[instrumentKey];\n    return keyboard ? keyboard.base : 76;\n  }, [instrumentKey]);\n  var onDrag = (0, _ui.useDragHandler)({\n    onDown: function onDown(e) {\n      return {\n        y: e.screenY,\n        base: base\n      };\n    },\n    onMove: function onMove(e, init) {\n      var change = Math.round((init.y - e.screenY) / _const.SLOT_HEIGHT);\n      var next = init.base - change; // E8 <= next >= E1\n\n      if (next <= 112 && next >= 28) {\n        _actions.actions.ui.play.keyboard(instrumentKey, init.base - change);\n      }\n    },\n    onEnd: function onEnd() {}\n  }, [base, instrumentKey]);\n  return _react.default.createElement(\"div\", {\n    className: \"keyboard\",\n    onPointerDown: onDrag,\n    style: {\n      height: height * _const.SLOT_HEIGHT\n    }\n  }, _react.default.createElement(_slots.Slots, {\n    base: base,\n    count: height,\n    isKeyboard: true\n  }));\n};\n\nexports.Keyboard = Keyboard;"},"sourceMaps":{"js":{"mappings":[{"source":"play/keyboard/index.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":8,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":2,"column":0},"generated":{"line":10,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":3,"column":0},"generated":{"line":12,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":4,"column":0},"generated":{"line":14,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":5,"column":0},"generated":{"line":16,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":6,"column":0},"generated":{"line":18,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":8,"column":0},"generated":{"line":20,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":24,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":13},"generated":{"line":24,"column":4}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":21},"generated":{"line":24,"column":12}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":35},"generated":{"line":24,"column":15}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":13},"generated":{"line":24,"column":24}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":35},"generated":{"line":24,"column":32}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":36},"generated":{"line":24,"column":33}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":35},"generated":{"line":24,"column":35}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":61},"generated":{"line":24,"column":37}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":38},"generated":{"line":25,"column":6}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":51},"generated":{"line":25,"column":19}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":51},"generated":{"line":25,"column":22}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":51},"generated":{"line":25,"column":24}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":51},"generated":{"line":25,"column":25}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":53},"generated":{"line":26,"column":6}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":59},"generated":{"line":26,"column":12}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":59},"generated":{"line":26,"column":15}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":59},"generated":{"line":26,"column":17}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":59},"generated":{"line":26,"column":18}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":16,"column":4},"generated":{"line":27,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":16,"column":10},"generated":{"line":27,"column":6}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":16,"column":14},"generated":{"line":27,"column":10}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":16,"column":17},"generated":{"line":27,"column":13}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":17,"column":8},"generated":{"line":27,"column":37}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":17,"column":9},"generated":{"line":27,"column":47}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":17,"column":8},"generated":{"line":27,"column":48}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":17,"column":10},"generated":{"line":27,"column":50}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":12},"generated":{"line":28,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":18},"generated":{"line":28,"column":8}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":26},"generated":{"line":28,"column":16}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":29},"generated":{"line":28,"column":19}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":30},"generated":{"line":28,"column":20}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":31},"generated":{"line":28,"column":21}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":29},"generated":{"line":28,"column":23}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":34},"generated":{"line":28,"column":24}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":29},"generated":{"line":28,"column":28}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":39},"generated":{"line":28,"column":29}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":29},"generated":{"line":28,"column":37}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":48},"generated":{"line":28,"column":38}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":29},"generated":{"line":28,"column":51}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":18,"column":12},"generated":{"line":28,"column":52}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":19,"column":12},"generated":{"line":29,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":19,"column":19},"generated":{"line":29,"column":11}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":19,"column":27},"generated":{"line":29,"column":19}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":19,"column":30},"generated":{"line":29,"column":22}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":19,"column":38},"generated":{"line":29,"column":30}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":19,"column":39},"generated":{"line":29,"column":31}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":19,"column":27},"generated":{"line":29,"column":35}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":19,"column":46},"generated":{"line":29,"column":38}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":19,"column":12},"generated":{"line":29,"column":40}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":20,"column":9},"generated":{"line":30,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":16,"column":17},"generated":{"line":30,"column":3}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":21,"column":8},"generated":{"line":30,"column":5}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":21,"column":9},"generated":{"line":30,"column":6}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":21,"column":8},"generated":{"line":30,"column":19}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":16,"column":17},"generated":{"line":30,"column":20}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":16,"column":4},"generated":{"line":30,"column":21}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":24,"column":4},"generated":{"line":31,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":24,"column":10},"generated":{"line":31,"column":6}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":24,"column":16},"generated":{"line":31,"column":12}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":24,"column":19},"generated":{"line":31,"column":15}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":25,"column":8},"generated":{"line":31,"column":39}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":26,"column":12},"generated":{"line":32,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":26,"column":12},"generated":{"line":32,"column":4}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":26,"column":18},"generated":{"line":32,"column":10}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":26,"column":20},"generated":{"line":32,"column":12}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":26,"column":21},"generated":{"line":32,"column":28}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":26,"column":20},"generated":{"line":32,"column":29}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":26,"column":22},"generated":{"line":32,"column":31}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":27,"column":16},"generated":{"line":33,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":27,"column":23},"generated":{"line":33,"column":13}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":28,"column":20},"generated":{"line":34,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":28,"column":20},"generated":{"line":34,"column":8}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":28,"column":21},"generated":{"line":34,"column":9}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":28,"column":23},"generated":{"line":34,"column":11}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":28,"column":24},"generated":{"line":34,"column":12}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":28,"column":25},"generated":{"line":34,"column":13}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":27,"column":23},"generated":{"line":34,"column":20}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":29,"column":20},"generated":{"line":35,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":29,"column":20},"generated":{"line":35,"column":8}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":29,"column":24},"generated":{"line":35,"column":12}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":29,"column":24},"generated":{"line":35,"column":14}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":27,"column":23},"generated":{"line":36,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":27,"column":16},"generated":{"line":36,"column":7}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":31,"column":13},"generated":{"line":37,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":25,"column":8},"generated":{"line":37,"column":5}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":32,"column":12},"generated":{"line":38,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":32,"column":12},"generated":{"line":38,"column":4}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":32,"column":18},"generated":{"line":38,"column":10}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":32,"column":20},"generated":{"line":38,"column":12}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":32,"column":21},"generated":{"line":38,"column":28}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":32,"column":20},"generated":{"line":38,"column":29}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":32,"column":24},"generated":{"line":38,"column":31}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":32,"column":20},"generated":{"line":38,"column":35}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":32,"column":28},"generated":{"line":38,"column":37}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":16},"generated":{"line":39,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":22},"generated":{"line":39,"column":10}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":28},"generated":{"line":39,"column":16}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":31},"generated":{"line":39,"column":19}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":35},"generated":{"line":39,"column":23}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":36},"generated":{"line":39,"column":24}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":31},"generated":{"line":39,"column":29}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":42},"generated":{"line":39,"column":30}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":43},"generated":{"line":39,"column":31}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":47},"generated":{"line":39,"column":35}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":48},"generated":{"line":39,"column":36}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":43},"generated":{"line":39,"column":37}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":52},"generated":{"line":39,"column":40}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":53},"generated":{"line":39,"column":41}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":54},"generated":{"line":39,"column":42}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":42},"generated":{"line":39,"column":49}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":65},"generated":{"line":39,"column":53}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":31},"generated":{"line":39,"column":71}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":33,"column":16},"generated":{"line":39,"column":72}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":34,"column":16},"generated":{"line":40,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":34,"column":22},"generated":{"line":40,"column":10}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":34,"column":26},"generated":{"line":40,"column":14}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":34,"column":29},"generated":{"line":40,"column":17}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":34,"column":33},"generated":{"line":40,"column":21}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":34,"column":34},"generated":{"line":40,"column":22}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":34,"column":29},"generated":{"line":40,"column":26}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":34,"column":41},"generated":{"line":40,"column":29}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":34,"column":16},"generated":{"line":40,"column":35}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":32,"column":28},"generated":{"line":40,"column":36}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":35,"column":16},"generated":{"line":40,"column":37}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":36,"column":16},"generated":{"line":42,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":36,"column":20},"generated":{"line":42,"column":10}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":36,"column":24},"generated":{"line":42,"column":14}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":36,"column":28},"generated":{"line":42,"column":18}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":36,"column":20},"generated":{"line":42,"column":21}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":36,"column":35},"generated":{"line":42,"column":25}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":36,"column":39},"generated":{"line":42,"column":29}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":36,"column":43},"generated":{"line":42,"column":33}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":36,"column":16},"generated":{"line":42,"column":35}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":36,"column":47},"generated":{"line":42,"column":37}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":20},"generated":{"line":43,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":28},"generated":{"line":43,"column":25}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":20},"generated":{"line":43,"column":27}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":31},"generated":{"line":43,"column":28}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":20},"generated":{"line":43,"column":32}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":36},"generated":{"line":43,"column":33}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":20},"generated":{"line":43,"column":41}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":45},"generated":{"line":43,"column":42}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":20},"generated":{"line":43,"column":55}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":60},"generated":{"line":43,"column":57}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":64},"generated":{"line":43,"column":61}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":65},"generated":{"line":43,"column":62}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":60},"generated":{"line":43,"column":66}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":72},"generated":{"line":43,"column":69}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":37,"column":20},"generated":{"line":43,"column":75}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":38,"column":17},"generated":{"line":44,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":39,"column":13},"generated":{"line":45,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":25,"column":8},"generated":{"line":45,"column":5}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":40,"column":12},"generated":{"line":46,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":40,"column":12},"generated":{"line":46,"column":4}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":40,"column":17},"generated":{"line":46,"column":9}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":40,"column":19},"generated":{"line":46,"column":11}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":40,"column":19},"generated":{"line":46,"column":28}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":40,"column":27},"generated":{"line":46,"column":29}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":25,"column":8},"generated":{"line":47,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":24,"column":19},"generated":{"line":47,"column":3}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":42,"column":8},"generated":{"line":47,"column":5}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":42,"column":9},"generated":{"line":47,"column":6}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":42,"column":8},"generated":{"line":47,"column":10}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":42,"column":15},"generated":{"line":47,"column":12}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":42,"column":8},"generated":{"line":47,"column":25}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":24,"column":19},"generated":{"line":47,"column":26}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":24,"column":4},"generated":{"line":47,"column":27}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":45,"column":4},"generated":{"line":48,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":46,"column":8},"generated":{"line":48,"column":9}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":46,"column":8},"generated":{"line":48,"column":24}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":46,"column":8},"generated":{"line":48,"column":37}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":46,"column":8},"generated":{"line":48,"column":38}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":46,"column":8},"generated":{"line":48,"column":43}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":46,"column":8},"generated":{"line":48,"column":45}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":47,"column":12},"generated":{"line":49,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":47,"column":12},"generated":{"line":49,"column":4}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":47,"column":21},"generated":{"line":49,"column":13}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":47,"column":22},"generated":{"line":49,"column":15}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":46,"column":8},"generated":{"line":49,"column":25}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":48,"column":12},"generated":{"line":50,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":48,"column":12},"generated":{"line":50,"column":4}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":48,"column":25},"generated":{"line":50,"column":17}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":48,"column":27},"generated":{"line":50,"column":19}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":46,"column":8},"generated":{"line":50,"column":25}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":49,"column":12},"generated":{"line":51,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":49,"column":12},"generated":{"line":51,"column":4}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":49,"column":17},"generated":{"line":51,"column":9}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":49,"column":19},"generated":{"line":51,"column":11}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":49,"column":21},"generated":{"line":52,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":49,"column":21},"generated":{"line":52,"column":6}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":49,"column":27},"generated":{"line":52,"column":12}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":49,"column":29},"generated":{"line":52,"column":14}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":49,"column":35},"generated":{"line":52,"column":20}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":49,"column":38},"generated":{"line":52,"column":23}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":49,"column":19},"generated":{"line":53,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":46,"column":8},"generated":{"line":54,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":46,"column":8},"generated":{"line":54,"column":3}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":12},"generated":{"line":54,"column":5}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":12},"generated":{"line":54,"column":20}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":12},"generated":{"line":54,"column":33}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":13},"generated":{"line":54,"column":34}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":12},"generated":{"line":54,"column":46}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":18},"generated":{"line":54,"column":48}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":19},"generated":{"line":55,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":19},"generated":{"line":55,"column":4}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":23},"generated":{"line":55,"column":8}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":25},"generated":{"line":55,"column":10}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":18},"generated":{"line":55,"column":14}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":31},"generated":{"line":56,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":31},"generated":{"line":56,"column":4}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":36},"generated":{"line":56,"column":9}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":38},"generated":{"line":56,"column":11}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":18},"generated":{"line":56,"column":17}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":46},"generated":{"line":57,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":46},"generated":{"line":57,"column":4}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":56},"generated":{"line":57,"column":14}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":58},"generated":{"line":57,"column":16}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":18},"generated":{"line":58,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":51,"column":12},"generated":{"line":58,"column":3}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":46,"column":8},"generated":{"line":58,"column":4}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":45,"column":4},"generated":{"line":58,"column":5}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":54,"column":1},"generated":{"line":59,"column":0}},{"source":"play/keyboard/index.tsx","name":null,"original":{"line":15,"column":7},"generated":{"line":59,"column":1}}],"sources":{"play/keyboard/index.tsx":"import React, { FC } from \"react\";\nimport { useDragHandler } from \"../../../ui\";\nimport { Slots } from \"./slots\";\nimport { SLOT_HEIGHT } from \"../const\";\nimport { useStore } from \"../../store/use-store\";\nimport { actions } from \"../../store/actions\";\n\nimport \"./styles.css\";\n\ninterface Props {\n    instrumentKey: string;\n    height: number;\n}\n\nexport const Keyboard: FC<Props> = ({ instrumentKey, height }) => {\n    const base = useStore(\n        (s) => {\n            const keyboard = s.ui.play.keyboard[instrumentKey];\n            return keyboard ? keyboard.base : 76;\n        },\n        [instrumentKey]\n    );\n\n    const onDrag = useDragHandler<{ y: number; base: number }>(\n        {\n            onDown: (e) => {\n                return {\n                    y: e.screenY,\n                    base,\n                };\n            },\n            onMove: (e, init) => {\n                const change = Math.round((init.y - e.screenY) / SLOT_HEIGHT);\n                const next = init.base - change;\n                // E8 <= next >= E1\n                if (next <= 112 && next >= 28) {\n                    actions.ui.play.keyboard(instrumentKey, init.base - change);\n                }\n            },\n            onEnd: () => {},\n        },\n        [base, instrumentKey]\n    );\n\n    return (\n        <div\n            className=\"keyboard\"\n            onPointerDown={onDrag}\n            style={{ height: height * SLOT_HEIGHT }}\n        >\n            <Slots base={base} count={height} isKeyboard={true} />\n        </div>\n    );\n};\n"},"lineCount":null}},"error":null,"hash":"f58599051c43b399def95e2021900153","cacheData":{"env":{}}}