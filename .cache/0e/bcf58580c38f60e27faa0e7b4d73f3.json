{"id":"SwmK","dependencies":[{"name":"/home/aled/solo-composer-ui/tsconfig.json","includedInParent":true,"mtime":1598401787877},{"name":"/home/aled/solo-composer-ui/package.json","includedInParent":true,"mtime":1598403412572},{"name":"../render/text","loc":{"line":1,"column":42},"parent":"/home/aled/solo-composer-ui/src/parse/draw-names.ts","resolved":"/home/aled/solo-composer-ui/src/render/text.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.drawNames=t;var e=require(\"../render/text\");function t(t,n,r,i,s,u,a,o){var m=[],f={color:\"#000000\",font:o.instrumentName.font,size:o.instrumentName.size,justify:o.instrumentName.align,align:e.Align.Middle},l=o.instrumentName.align===e.Justify.Start?t:t+r;return s.order.forEach(function(t){u.players[t]&&s.by_key[t].instruments.forEach(function(t){var r=n+a.instruments[t].y+a.instruments[t].height/2;m.push((0,e.buildText)(t+\"-name\",f,l,r,i[t]))})}),m}"},"sourceMaps":{"js":{"mappings":[{"source":"parse/draw-names.ts","name":null,"original":{"line":51,"column":1},"generated":{"line":1,"column":0}},{"source":"parse/draw-names.ts","name":null,"original":{"line":51,"column":1},"generated":{"line":1,"column":13}},{"source":"parse/draw-names.ts","name":null,"original":{"line":51,"column":1},"generated":{"line":1,"column":20}},{"source":"parse/draw-names.ts","name":null,"original":{"line":51,"column":1},"generated":{"line":1,"column":35}},{"source":"parse/draw-names.ts","name":null,"original":{"line":51,"column":1},"generated":{"line":1,"column":43}},{"source":"parse/draw-names.ts","name":null,"original":{"line":51,"column":1},"generated":{"line":1,"column":56}},{"source":"parse/draw-names.ts","name":null,"original":{"line":51,"column":1},"generated":{"line":1,"column":57}},{"source":"parse/draw-names.ts","name":null,"original":{"line":51,"column":1},"generated":{"line":1,"column":64}},{"source":"parse/draw-names.ts","name":null,"original":{"line":51,"column":1},"generated":{"line":1,"column":68}},{"source":"parse/draw-names.ts","name":null,"original":{"line":51,"column":1},"generated":{"line":1,"column":76}},{"source":"parse/draw-names.ts","name":null,"original":{"line":51,"column":1},"generated":{"line":1,"column":86}},{"source":"parse/draw-names.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":88}},{"source":"parse/draw-names.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"parse/draw-names.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":94}},{"source":"parse/draw-names.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":102}},{"source":"parse/draw-names.ts","name":null,"original":{"line":8,"column":6},"generated":{"line":1,"column":120}},{"source":"parse/draw-names.ts","name":null,"original":{"line":8,"column":16},"generated":{"line":1,"column":129}},{"source":"parse/draw-names.ts","name":null,"original":{"line":9,"column":4},"generated":{"line":1,"column":131}},{"source":"parse/draw-names.ts","name":null,"original":{"line":10,"column":4},"generated":{"line":1,"column":133}},{"source":"parse/draw-names.ts","name":null,"original":{"line":11,"column":4},"generated":{"line":1,"column":135}},{"source":"parse/draw-names.ts","name":null,"original":{"line":12,"column":4},"generated":{"line":1,"column":137}},{"source":"parse/draw-names.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":1,"column":139}},{"source":"parse/draw-names.ts","name":null,"original":{"line":14,"column":4},"generated":{"line":1,"column":141}},{"source":"parse/draw-names.ts","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":143}},{"source":"parse/draw-names.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":1,"column":145}},{"source":"parse/draw-names.ts","name":null,"original":{"line":18,"column":10},"generated":{"line":1,"column":148}},{"source":"parse/draw-names.ts","name":null,"original":{"line":18,"column":10},"generated":{"line":1,"column":152}},{"source":"parse/draw-names.ts","name":null,"original":{"line":18,"column":46},"generated":{"line":1,"column":154}},{"source":"parse/draw-names.ts","name":null,"original":{"line":20,"column":10},"generated":{"line":1,"column":157}},{"source":"parse/draw-names.ts","name":null,"original":{"line":20,"column":31},"generated":{"line":1,"column":159}},{"source":"parse/draw-names.ts","name":null,"original":{"line":21,"column":8},"generated":{"line":1,"column":160}},{"source":"parse/draw-names.ts","name":null,"original":{"line":21,"column":15},"generated":{"line":1,"column":166}},{"source":"parse/draw-names.ts","name":null,"original":{"line":22,"column":8},"generated":{"line":1,"column":176}},{"source":"parse/draw-names.ts","name":null,"original":{"line":22,"column":14},"generated":{"line":1,"column":181}},{"source":"parse/draw-names.ts","name":null,"original":{"line":22,"column":21},"generated":{"line":1,"column":183}},{"source":"parse/draw-names.ts","name":null,"original":{"line":22,"column":36},"generated":{"line":1,"column":198}},{"source":"parse/draw-names.ts","name":null,"original":{"line":23,"column":8},"generated":{"line":1,"column":203}},{"source":"parse/draw-names.ts","name":null,"original":{"line":23,"column":14},"generated":{"line":1,"column":208}},{"source":"parse/draw-names.ts","name":null,"original":{"line":23,"column":21},"generated":{"line":1,"column":210}},{"source":"parse/draw-names.ts","name":null,"original":{"line":23,"column":36},"generated":{"line":1,"column":225}},{"source":"parse/draw-names.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":230}},{"source":"parse/draw-names.ts","name":null,"original":{"line":24,"column":17},"generated":{"line":1,"column":238}},{"source":"parse/draw-names.ts","name":null,"original":{"line":24,"column":24},"generated":{"line":1,"column":240}},{"source":"parse/draw-names.ts","name":null,"original":{"line":24,"column":39},"generated":{"line":1,"column":255}},{"source":"parse/draw-names.ts","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":261}},{"source":"parse/draw-names.ts","name":null,"original":{"line":25,"column":15},"generated":{"line":1,"column":267}},{"source":"parse/draw-names.ts","name":null,"original":{"line":25,"column":21},"generated":{"line":1,"column":269}},{"source":"parse/draw-names.ts","name":null,"original":{"line":25,"column":21},"generated":{"line":1,"column":275}},{"source":"parse/draw-names.ts","name":null,"original":{"line":28,"column":10},"generated":{"line":1,"column":283}},{"source":"parse/draw-names.ts","name":null,"original":{"line":28,"column":17},"generated":{"line":1,"column":285}},{"source":"parse/draw-names.ts","name":null,"original":{"line":28,"column":24},"generated":{"line":1,"column":287}},{"source":"parse/draw-names.ts","name":null,"original":{"line":28,"column":39},"generated":{"line":1,"column":302}},{"source":"parse/draw-names.ts","name":null,"original":{"line":28,"column":49},"generated":{"line":1,"column":310}},{"source":"parse/draw-names.ts","name":null,"original":{"line":28,"column":57},"generated":{"line":1,"column":312}},{"source":"parse/draw-names.ts","name":null,"original":{"line":28,"column":57},"generated":{"line":1,"column":320}},{"source":"parse/draw-names.ts","name":null,"original":{"line":28,"column":65},"generated":{"line":1,"column":326}},{"source":"parse/draw-names.ts","name":null,"original":{"line":28,"column":69},"generated":{"line":1,"column":328}},{"source":"parse/draw-names.ts","name":null,"original":{"line":28,"column":73},"generated":{"line":1,"column":330}},{"source":"parse/draw-names.ts","name":null,"original":{"line":50,"column":11},"generated":{"line":1,"column":332}},{"source":"parse/draw-names.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":1,"column":339}},{"source":"parse/draw-names.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":1,"column":341}},{"source":"parse/draw-names.ts","name":null,"original":{"line":30,"column":18},"generated":{"line":1,"column":347}},{"source":"parse/draw-names.ts","name":null,"original":{"line":30,"column":26},"generated":{"line":1,"column":355}},{"source":"parse/draw-names.ts","name":null,"original":{"line":30,"column":27},"generated":{"line":1,"column":364}},{"source":"parse/draw-names.ts","name":null,"original":{"line":31,"column":12},"generated":{"line":1,"column":367}},{"source":"parse/draw-names.ts","name":null,"original":{"line":31,"column":17},"generated":{"line":1,"column":369}},{"source":"parse/draw-names.ts","name":null,"original":{"line":31,"column":25},"generated":{"line":1,"column":377}},{"source":"parse/draw-names.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":381}},{"source":"parse/draw-names.ts","name":null,"original":{"line":32,"column":20},"generated":{"line":1,"column":383}},{"source":"parse/draw-names.ts","name":null,"original":{"line":32,"column":27},"generated":{"line":1,"column":390}},{"source":"parse/draw-names.ts","name":null,"original":{"line":32,"column":39},"generated":{"line":1,"column":393}},{"source":"parse/draw-names.ts","name":null,"original":{"line":32,"column":51},"generated":{"line":1,"column":405}},{"source":"parse/draw-names.ts","name":null,"original":{"line":32,"column":59},"generated":{"line":1,"column":413}},{"source":"parse/draw-names.ts","name":null,"original":{"line":32,"column":60},"generated":{"line":1,"column":422}},{"source":"parse/draw-names.ts","name":null,"original":{"line":33,"column":22},"generated":{"line":1,"column":425}},{"source":"parse/draw-names.ts","name":null,"original":{"line":33,"column":22},"generated":{"line":1,"column":429}},{"source":"parse/draw-names.ts","name":null,"original":{"line":34,"column":20},"generated":{"line":1,"column":431}},{"source":"parse/draw-names.ts","name":null,"original":{"line":35,"column":20},"generated":{"line":1,"column":433}},{"source":"parse/draw-names.ts","name":null,"original":{"line":35,"column":35},"generated":{"line":1,"column":435}},{"source":"parse/draw-names.ts","name":null,"original":{"line":35,"column":47},"generated":{"line":1,"column":447}},{"source":"parse/draw-names.ts","name":null,"original":{"line":35,"column":63},"generated":{"line":1,"column":450}},{"source":"parse/draw-names.ts","name":null,"original":{"line":36,"column":20},"generated":{"line":1,"column":452}},{"source":"parse/draw-names.ts","name":null,"original":{"line":36,"column":35},"generated":{"line":1,"column":454}},{"source":"parse/draw-names.ts","name":null,"original":{"line":36,"column":47},"generated":{"line":1,"column":466}},{"source":"parse/draw-names.ts","name":null,"original":{"line":36,"column":63},"generated":{"line":1,"column":469}},{"source":"parse/draw-names.ts","name":null,"original":{"line":36,"column":72},"generated":{"line":1,"column":476}},{"source":"parse/draw-names.ts","name":null,"original":{"line":37,"column":16},"generated":{"line":1,"column":478}},{"source":"parse/draw-names.ts","name":null,"original":{"line":37,"column":29},"generated":{"line":1,"column":480}},{"source":"parse/draw-names.ts","name":null,"original":{"line":38,"column":20},"generated":{"line":1,"column":486}},{"source":"parse/draw-names.ts","name":null,"original":{"line":39,"column":27},"generated":{"line":1,"column":488}},{"source":"parse/draw-names.ts","name":null,"original":{"line":39,"column":27},"generated":{"line":1,"column":490}},{"source":"parse/draw-names.ts","name":null,"original":{"line":39,"column":27},"generated":{"line":1,"column":501}},{"source":"parse/draw-names.ts","name":null,"original":{"line":39,"column":41},"generated":{"line":1,"column":503}},{"source":"parse/draw-names.ts","name":null,"original":{"line":40,"column":24},"generated":{"line":1,"column":511}},{"source":"parse/draw-names.ts","name":null,"original":{"line":41,"column":24},"generated":{"line":1,"column":513}},{"source":"parse/draw-names.ts","name":null,"original":{"line":42,"column":24},"generated":{"line":1,"column":515}},{"source":"parse/draw-names.ts","name":null,"original":{"line":43,"column":24},"generated":{"line":1,"column":517}},{"source":"parse/draw-names.ts","name":null,"original":{"line":43,"column":30},"generated":{"line":1,"column":519}},{"source":"parse/draw-names.ts","name":null,"original":{"line":50,"column":11},"generated":{"line":1,"column":528}}],"sources":{"parse/draw-names.ts":"import { TextStyles, Align, Justify, buildText, Text } from \"../render/text\";\nimport { EngravingConfig } from \"../store/defs\";\nimport { Player } from \"../store/score-player/defs\";\nimport { Flow } from \"../store/score-flow/defs\";\nimport { VerticalLayout } from \"./measure-verical-spacing\";\nimport { Instruction } from \"../render/instructions\";\n\nexport function drawNames(\n    x: number,\n    y: number,\n    width: number,\n    names: { [key: string]: string },\n    players: { order: string[]; by_key: { [key: string]: Player } },\n    flow: Flow,\n    verticalLayout: VerticalLayout,\n    config: EngravingConfig\n) {\n    const instructions: Instruction<Text>[] = [];\n\n    const styles: TextStyles = {\n        color: \"#000000\",\n        font: config.instrumentName.font,\n        size: config.instrumentName.size,\n        justify: config.instrumentName.align,\n        align: Align.Middle,\n    };\n\n    const left = config.instrumentName.align === Justify.Start ? x : x + width;\n\n    players.order.forEach((player_key) => {\n        if (flow.players[player_key]) {\n            players.by_key[player_key].instruments.forEach((instrument_key) => {\n                const top =\n                    y +\n                    verticalLayout.instruments[instrument_key].y +\n                    verticalLayout.instruments[instrument_key].height / 2;\n                instructions.push(\n                    buildText(\n                        `${instrument_key}-name`,\n                        styles,\n                        left,\n                        top,\n                        names[instrument_key]\n                    )\n                );\n            });\n        }\n    });\n\n    return instructions;\n}\n"},"lineCount":null}},"error":null,"hash":"828665301f0faac0ae842b04e6b6883b","cacheData":{"env":{}}}